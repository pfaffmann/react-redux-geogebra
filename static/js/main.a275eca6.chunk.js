(this["webpackJsonpredux-geogebra-example"]=this["webpackJsonpredux-geogebra-example"]||[]).push([[0],{20:function(e,t,E){e.exports=E(39)},21:function(e,t,E){},38:function(e,t,E){},39:function(e,t,E){"use strict";E.r(t);E(21);var n=E(0),a=E.n(n),s=E(4),r=E.n(s),O=E(17),_=E.n(O),c=E(1),i=E(6),o=E(13),T=E(11),M=E(18),D=E(7),S=E(2);function l(e,t){return{type:e,payload:t}}var u=function(e){return l("ADD_ELEMENT_TO_STORE",e)},A=function(e){return l("REMOVE_ELEMENT_FROM_STORE",e)},R=function(e){return l("RENAME_ELEMENT_IN_STORE",e)},N=function(e){return l("UPDATE_ELEMENT_IN_STORE",e)},d=function(e){return l("ADD_NAME_TO_SELECTED_ELEMENTS",e)},I=function(){return l("REMOVE_NAME_FROM_SELECTED_ELEMENTS")},p=function(e){return l("REMOVE_ELEMENTS_AT_CANCEL",e)},L=function(e){return l("SET_MODE_IN_STORE",e)},C=function(e){return l("SET_PERSPECTIVE_IN_STORE",e)},b=function(e){return l("SET_MOUSEDOWN_IN_STORE",e)},f=function(e){return l("SET_EUCLIDIANVIEWS_IN_STORE",e)},g=function(e){return l("SET_EUCLIDIANVIEW3D_IN_STORE",e)},m=function(e){return l("SET_ALGEBRAVIEW_IN_STORE",e)},P=function(e){return l("SET_SPREADSHEETVIEW_IN_STORE",e)},v=function(e){return l("SET_PROBABILITYCALCULATOR_IN_STORE",e)},h=function(e){return l("SET_METAINFORMATION_IN_STORE",e)},j=new M.XMLParser({ignoreAttributes:!1,preserveOrder:!1,attributeNamePrefix:"",parseAttributeValue:!0,unpairedTags:["view","pane","toolbar","input","dockBar"],processEntities:!0}),w=new Map;w.set(0,"top"),w.set(1,"right"),w.set(2,"bottom"),w.set(3,"left");var H=function(e){var t="string"===typeof e.location?e.location.split(",").map((function(e){return Number(e)})):[Number(e.location)],E=t.length,n=t.reverse().map((function(e){return w.get(e)||""})).join(" in ");return{level:E,position:w.get(t[E-1])||"",location:n}},V=new Map;V.set(0,"MODE_MOVE"),V.set(1,"MODE_POINT"),V.set(2,"MODE_JOIN"),V.set(3,"MODE_PARALLEL"),V.set(4,"MODE_ORTHOGONAL"),V.set(5,"MODE_INTERSECT"),V.set(6,"MODE_DELETE"),V.set(7,"MODE_VECTOR"),V.set(8,"MODE_LINE_BISECTOR"),V.set(9,"MODE_ANGULAR_BISECTOR"),V.set(10,"MODE_CIRCLE_TWO_POINTS"),V.set(11,"MODE_CIRCLE_THREE_POINTS"),V.set(12,"MODE_CONIC_FIVE_POINTS"),V.set(13,"MODE_TANGENTS"),V.set(14,"MODE_RELATION"),V.set(15,"MODE_SEGMENT"),V.set(16,"MODE_POLYGON"),V.set(17,"MODE_TEXT"),V.set(18,"MODE_RAY"),V.set(19,"MODE_MIDPOINT"),V.set(20,"MODE_CIRCLE_ARC_THREE_POINTS"),V.set(21,"MODE_CIRCLE_SECTOR_THREE_POINTS"),V.set(22,"MODE_CIRCUMCIRCLE_ARC_THREE_POINTS"),V.set(23,"MODE_CIRCUMCIRCLE_SECTOR_THREE_POINTS"),V.set(24,"MODE_SEMICIRCLE"),V.set(25,"MODE_SLIDER"),V.set(26,"MODE_IMAGE"),V.set(27,"MODE_SHOW_HIDE_OBJECT"),V.set(28,"MODE_SHOW_HIDE_LABEL"),V.set(29,"MODE_MIRROR_AT_POINT"),V.set(30,"MODE_MIRROR_AT_LINE"),V.set(31,"MODE_TRANSLATE_BY_VECTOR"),V.set(32,"MODE_ROTATE_BY_ANGLE"),V.set(33,"MODE_DILATE_FROM_POINT"),V.set(34,"MODE_CIRCLE_POINT_RADIUS"),V.set(35,"MODE_COPY_VISUAL_STYLE"),V.set(36,"MODE_ANGLE"),V.set(37,"MODE_VECTOR_FROM_POINT"),V.set(38,"MODE_DISTANCE"),V.set(39,"MODE_MOVE_ROTATE"),V.set(40,"MODE_TRANSLATEVIEW"),V.set(41,"MODE_ZOOM_IN"),V.set(42,"MODE_ZOOM_OUT"),V.set(43,"MODE_SELECTION_LISTENER"),V.set(44,"MODE_POLAR_DIAMETER"),V.set(45,"MODE_SEGMENT_FIXED"),V.set(46,"MODE_ANGLE_FIXED"),V.set(47,"MODE_LOCUS"),V.set(48,"MODE_MACRO"),V.set(49,"MODE_AREA"),V.set(50,"MODE_SLOPE"),V.set(51,"MODE_REGULAR_POLYGON"),V.set(52,"MODE_SHOW_HIDE_CHECKBOX"),V.set(53,"MODE_COMPASSES"),V.set(54,"MODE_MIRROR_AT_CIRCLE"),V.set(55,"MODE_ELLIPSE_THREE_POINTS"),V.set(56,"MODE_HYPERBOLA_THREE_POINTS"),V.set(57,"MODE_PARABOLA"),V.set(58,"MODE_FITLINE"),V.set(59,"MODE_RECORD_TO_SPREADSHEET"),V.set(60,"MODE_BUTTON_ACTION"),V.set(61,"MODE_TEXTFIELD_ACTION"),V.set(62,"MODE_PEN"),V.set(63,"MODE_VISUAL_STYLE"),V.set(64,"MODE_RIGID_POLYGON"),V.set(65,"MODE_POLYLINE"),V.set(66,"MODE_PROBABILITY_CALCULATOR"),V.set(67,"MODE_ATTACH_DETACH"),V.set(68,"MODE_FUNCTION_INSPECTOR"),V.set(69,"MODE_INTERSECTION_CURVE"),V.set(70,"MODE_VECTOR_POLYGON"),V.set(71,"MODE_CREATE_LIST"),V.set(72,"MODE_COMPLEX_NUMBER"),V.set(73,"MODE_FREEHAND_SHAPE"),V.set(74,"MODE_FREEHAND_FUNCTION"),V.set(75,"MODE_EXTREMUM"),V.set(76,"MODE_ROOTS"),V.set(77,"MODE_SELECT"),V.set(78,"MODE_SELECT_MOW"),V.set(79,"MODE_GRASPABLE_MATH"),V.set(501,"MODE_POINT_ON_OBJECT"),V.set(502,"MODE_VIEW_IN_FRONT_OF"),V.set(510,"MODE_PLANE_THREE_POINTS"),V.set(511,"MODE_PLANE"),V.set(512,"MODE_ORTHOGONAL_PLANE"),V.set(513,"MODE_PARALLEL_PLANE"),V.set(514,"MODE_ORTHOGONAL_THREE_D"),V.set(520,"MODE_SPHERE_POINT_RADIUS"),V.set(521,"MODE_SPHERE_TWO_POINTS"),V.set(522,"MODE_CONE_TWO_POINTS_RADIUS"),V.set(523,"MODE_CYLINDER_TWO_POINTS_RADIUS"),V.set(531,"MODE_PRISM"),V.set(532,"MODE_EXTRUSION"),V.set(533,"MODE_PYRAMID"),V.set(534,"MODE_CONIFY"),V.set(535,"MODE_NET"),V.set(536,"MODE_CUBE"),V.set(537,"MODE_TETRAHEDRON"),V.set(538,"MODE_SURFACE_OF_REVOLUTION"),V.set(540,"MODE_ROTATEVIEW"),V.set(550,"MODE_CIRCLE_POINT_RADIUS_DIRECTION"),V.set(551,"MODE_CIRCLE_AXIS_POINT"),V.set(560,"MODE_VOLUME"),V.set(570,"MODE_ROTATE_AROUND_LINE"),V.set(571,"MODE_MIRROR_AT_PLANE"),V.set(1001,"MODE_CAS_EVALUATE"),V.set(1002,"MODE_CAS_NUMERIC"),V.set(1003,"MODE_CAS_KEEP_INPUT"),V.set(1004,"MODE_CAS_EXPAND"),V.set(1005,"MODE_CAS_FACTOR"),V.set(1006,"MODE_CAS_SUBSTITUTE"),V.set(1007,"MODE_CAS_SOLVE"),V.set(1008,"MODE_CAS_DERIVATIVE"),V.set(1009,"MODE_CAS_INTEGRAL"),V.set(1010,"MODE_CAS_NUMERICAL_SOLVE"),V.set(2001,"MODE_SPREADSHEET_CREATE_LIST"),V.set(2002,"MODE_SPREADSHEET_CREATE_MATRIX"),V.set(2003,"MODE_SPREADSHEET_CREATE_LISTOFPOINTS"),V.set(2004,"MODE_SPREADSHEET_CREATE_TABLETEXT"),V.set(2005,"MODE_SPREADSHEET_CREATE_POLYLINE"),V.set(2020,"MODE_SPREADSHEET_ONEVARSTATS"),V.set(2021,"MODE_SPREADSHEET_TWOVARSTATS"),V.set(2022,"MODE_SPREADSHEET_MULTIVARSTATS"),V.set(2030,"MODE_SPREADSHEET_SORT"),V.set(2031,"MODE_SPREADSHEET_SORT_AZ"),V.set(2032,"MODE_SPREADSHEET_SORT_ZA"),V.set(2040,"MODE_SPREADSHEET_SUM"),V.set(2041,"MODE_SPREADSHEET_AVERAGE"),V.set(2042,"MODE_SPREADSHEET_COUNT"),V.set(2043,"MODE_SPREADSHEET_MIN"),V.set(2044,"MODE_SPREADSHEET_MAX"),V.set(101,"MODE_SHAPE_LINE"),V.set(102,"MODE_SHAPE_TRIANGLE"),V.set(103,"MODE_SHAPE_SQUARE"),V.set(104,"MODE_SHAPE_RECTANGLE"),V.set(105,"MODE_SHAPE_RECTANGLE_ROUND_EDGES"),V.set(106,"MODE_SHAPE_PENTAGON"),V.set(107,"MODE_SHAPE_FREEFORM"),V.set(108,"MODE_SHAPE_CIRCLE"),V.set(109,"MODE_SHAPE_ELLIPSE"),V.set(110,"MODE_ERASER"),V.set(111,"MODE_HIGHLIGHTER"),V.set(112,"MODE_PEN_PANEL"),V.set(113,"MODE_TOOLS_PANEL"),V.set(114,"MODE_MEDIA_PANEL"),V.set(115,"MODE_VIDEO"),V.set(116,"MODE_AUDIO"),V.set(117,"MODE_CALCULATOR"),V.set(118,"MODE_CAMERA"),V.set(119,"MODE_PDF"),V.set(120,"MODE_EXTENSION"),V.set(121,"MODE_MEDIA_TEXT"),V.set(122,"MODE_MASK"),V.set(123,"MODE_TABLE"),V.set(124,"MODE_EQUATION"),V.set(125,"MODE_H5P"),V.set(126,"MODE_MIND_MAP"),V.set(127,"MODE_RULER"),V.set(128,"MODE_PROTRACTOR"),V.set(100001,"MACRO_MODE_ID_OFFSET");var y=new Map;y.set(1,"Graphics"),y.set(2,"Algebra"),y.set(4,"Spreadsheet"),y.set(8,"CAS"),y.set(16,"Graphics 2"),y.set(32,"Construction Protocol"),y.set(64,"Probability Calculator"),y.set(512,"3D Graphics");var U=function(e,t){t.dispatch(C(function(e){var t=j.parse(e),E=t.perspective;return E.panes=Array.isArray(t.perspective.panes.pane)?Object(o.a)(t.perspective.panes.pane):[t.perspective.panes.pane],E.views=Object(o.a)(t.perspective.views.view),E}(e)))},G=function(e,t){t.dispatch(f(function(e){var t=j.parse(e);return Array.isArray(t.geogebra.euclidianView)?t.geogebra.euclidianView:[t.geogebra.euclidianView]}(e))),t.dispatch(g(function(e){return j.parse(e).geogebra.euclidianView3D}(e)))},B=function(e,t){t.dispatch(v(function(e){return j.parse(e).geogebra.probabilityCalculator}(e)))},F=function(e,t){t.dispatch(m(function(e){return j.parse(e).geogebra.algebraView}(e)))},X=function(e,t){t.dispatch(P(function(e){return j.parse(e).geogebra.spreadsheetView}(e)))},W=function(e){var t=function(e){var t,E=null===(t=e.perspective)||void 0===t?void 0:t.views.filter((function(e){return e.visible}));if(E)return{panels:E.map((function(e){return{viewNo:e.id,name:y.get(e.id)||"",location:H(e)}})),mode:V.get(e.mode||0)||""}}(e.getState());t&&e.dispatch(h(t))},Y=function(e,t){if(e){var E=function(){var E=e.getAllObjectNames(),n=t.getState();E.length!==n.elements.length&&t.dispatch(p(E))},n=Object(T.a)(250,!1,(function(n){switch(n.type){case"addMacro":case"addPolygon":case"addPolygonComplete":case"algebraPanelSelected":case"deleteGeos":break;case"deselect":E(),t.dispatch(I());break;case"dragEnd":case"dropdownClosed":case"dropdownItemFocused":case"dropdownOpened":case"editorKeyTyped":case"editorStart":case"editorStop":case"export":break;case"mouseDown":var a={x:n.x,y:n.y,z:n.z||0,viewNo:2===n.viewNo?16:n.viewNo};t.dispatch(b(a));break;case"movedGeos":case"movingGeos":case"openDialog":case"openMenu":case"pasteElms":case"pasteElmsComplete":case"redo":case"relationTool":case"removeMacro":case"renameComplete":case"renameMacro":break;case"select":t.dispatch(d(n.target));break;case"setMode":t.dispatch(L(Number(n.argument))),E(),W(t);break;case"sidePanelClosed":case"sidePanelOpened":case"tablePanelSelected":case"toolsPanelSelected":case"undo":break;case"updateStyle":var s=x(e,n.target);t.dispatch(N(s));break;case"showStyleBar":case"showNavigationBar":case"perspectiveChange":case"viewChanged3D":case"viewChanged2D":!function(e,t,E){U(t,E),G(e,E),F(e,E),B(e,E),X(e,E),W(E)}(e.getXML(),e.getPerspectiveXML(),t)}}));e.registerClientListener(n)}},x=function(e,t){if(!t)return{name:t||""};var E=e.getObjectType(t),n=void 0;switch(E){case"point":n={x:e.getXcoord(t),y:e.getYcoord(t),z:e.getZcoord(t)}}return{name:t,coordinates:n,value:e.getValue(t),color:e.getColor(t),isVisible:e.getVisible(t),valueString:e.getValueString(t),definitionString:e.getDefinitionString(t),commandString:e.getCommandString(t),LaTeXString:e.getLaTeXString(t),objectType:E,isExisting:e.exists(t),isDefined:e.isDefined(t),objectNumber:e.getObjectNumber(t),CASobjectNumber:e.getCASObjectNumber(t),layer:e.getLayer(t),lineStyle:e.getLineStyle(t),lineThickness:e.getLineThickness(t),pointStyle:e.getPointStyle(t),pointSize:e.getPointSize(t),filling:e.getFilling(t),caption:e.getCaption(t),labelStyle:e.getLabelStyle(t),isLabelVisible:e.getLabelVisible(t),isIndependent:e.isIndependent(t),isMoveable:e.isMoveable(t)}};var k=S.c,J=(S.b,function(e){var t=Object(n.useRef)(e),E=t.current,s=E.id,r=E.LoadComponent,O=E.onReady,_=E.appletOnLoad,c=E.debug;s||(s="ggb-applet"),c||(c=!1),r||(r=function(e){var t=e.children;return a.a.createElement("h3",null,t)});var o="https://geogebra.org/apps/deployggb.js",M=Object(n.useState)(!1),D=Object(i.a)(M,2),l=D[0],d=D[1],I=Object(n.useState)(!0),p=Object(i.a)(I,2),L=p[0],C=p[1],b=Object(n.useState)(!1),f=Object(i.a)(b,2),g=f[0],m=f[1],P=Object(S.d)(),v=function(){_&&_();var e=window[s];e&&(!function(e,t){var E=e.getXML(),n=e.getPerspectiveXML();U(n,t),G(E,t),F(E,t),B(E,t),X(E,t),W(t)}(e,P),function(e,t){e&&e.registerAddListener((function(E){var n=x(e,E);t.dispatch(u(n))}))}(e,P),function(e,t){e&&e.registerRemoveListener((function(e){t.dispatch(A(e))}))}(e,P),function(e,t){e&&e.registerRenameListener((function(e,E){t.dispatch(R({oldName:e,newName:E}))}))}(e,P),function(e,t){if(e){var E=Object(T.a)(250,!1,(function(E){var n=x(e,E);t.dispatch(N(n))}));e.registerUpdateListener(E)}}(e,P),Y(e,P),O&&O(),c&&console.log('Applet with id "'.concat(s,'" is ready')))};return Object(n.useEffect)((function(){return!l&&function(e,t){return new Promise((function(E,n){var a=!1;document||n(new Error("Document was not defined"));var s=document.getElementsByTagName("script")[0],r=document.createElement("script");r.crossOrigin="",r.id="".concat(t,"-script"),r.type="text/javascript",r.src=e,r.onload=function(){a||(a=!0,E(r))},r.onerror=function(e){n(new Error("Error loading script: "+e))},r.onabort=function(e){n(new Error("Script loading aborted: "+e))},null!=s.parentNode&&s.parentNode.insertBefore(r,s)}))}(o,s).then((function(){c&&console.log('script from "'.concat(o,'" succesfull loaded into the DOM')),d(!0)})).catch((function(e){return console.error(e)})),function(){d(!1);var e=document.getElementById("".concat(s,"-holder"));e&&e.lastChild&&(e.lastChild.textContent="")}}),[]),Object(n.useEffect)((function(){if(window.GGBApplet){var e=JSON.parse(JSON.stringify(t.current));e.appletOnLoad=v,new window.GGBApplet(e,!0).inject(s),C(!1),m(!1),c&&console.log('applet with id "'.concat(s,'" succesfull injected into the DOM'))}return function(){var e=document.getElementById("".concat(s,"-holder"));e&&e.lastChild&&(e.lastChild.textContent="")}}),[l,g]),a.a.createElement("div",{id:"".concat(s,"-holder")},L&&a.a.createElement(r,null,"Loading"),a.a.createElement("div",{id:s}))});J.defaultProps={appName:"classic",width:800,height:600,showToolBar:!0,showAlgebraInput:!0,showMenuBar:!0};var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ELEMENT_TO_STORE":var E=t.payload;if(!E)return e;if(e.elements.map((function(e){return e.name})).includes(E.name))return e;var n=Object(c.a)(Object(c.a)({},e),{},{elements:e.elements.concat(E)});return n;case"REMOVE_ELEMENT_FROM_STORE":var a=t.payload;if(!a)return e;var s=Object(c.a)(Object(c.a)({},e),{},{elements:e.elements.filter((function(e){return e.name!==a}))});return s;case"RENAME_ELEMENT_IN_STORE":var r=t.payload;if(!r)return e;var O=Object(c.a)(Object(c.a)({},e),{},{elements:e.elements.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{name:e.name===r.oldName?r.newName:e.name})}))});return O;case"UPDATE_ELEMENT_IN_STORE":var _=t.payload;if(!_)return e;var i=Object(c.a)(Object(c.a)({},e),{},{elements:e.elements.map((function(e){return e.name===_.name?_:e}))});return i;case"ADD_NAME_TO_SELECTED_ELEMENTS":var o=t.payload;if(!o)return e;if(e.selectedElementNames.find((function(e){return e===o})))return e;var T=Object(c.a)(Object(c.a)({},e),{},{selectedElementNames:e.selectedElementNames?e.selectedElementNames.concat(o):[o]});return T;case"REMOVE_NAME_FROM_SELECTED_ELEMENTS":var M=Object(c.a)(Object(c.a)({},e),{},{selectedElementNames:[]});return M;case"REMOVE_ELEMENTS_AT_CANCEL":var D=t.payload;if(!D)return e;var S=e.elements.filter((function(e){return D.includes(e.name)})),l=Object(c.a)(Object(c.a)({},e),{},{elements:S});return l;case"SET_MODE_IN_STORE":var u=t.payload;if("undefined"===typeof u)return e;var A=Object(c.a)(Object(c.a)({},e),{},{mode:u});return A;case"SET_PERSPECTIVE_IN_STORE":var R=t.payload;if(!R)return e;var N=Object(c.a)(Object(c.a)({},e),{},{perspective:R});return N;case"SET_MOUSEDOWN_IN_STORE":var d=t.payload;return d?Object(c.a)(Object(c.a)({},e),{},{mouseDown:d}):e;case"SET_EUCLIDIANVIEWS_IN_STORE":var I=t.payload;return I?Object(c.a)(Object(c.a)({},e),{},{euclidianViews:I}):e;case"SET_EUCLIDIANVIEW3D_IN_STORE":var p=t.payload;return p?Object(c.a)(Object(c.a)({},e),{},{euclidianView3D:p}):e;case"SET_ALGEBRAVIEW_IN_STORE":var L=t.payload;return L?Object(c.a)(Object(c.a)({},e),{},{algebraView:L}):e;case"SET_SPREADSHEETVIEW_IN_STORE":var C=t.payload;return C?Object(c.a)(Object(c.a)({},e),{},{spreadsheetView:C}):e;case"SET_PROBABILITYCALCULATOR_IN_STORE":var b=t.payload;return b?Object(c.a)(Object(c.a)({},e),{},{probabilityCalculator:b}):e;case"SET_METAINFORMATION_IN_STORE":var f=t.payload;return f?Object(c.a)(Object(c.a)({},e),{},{metaInformation:f}):e;case"ON_APPLET_LOADED":default:return e}};function Z(e){return Object(D.b)(z,e)}var K={id:"ggbApplet",elements:[],selectedElementNames:[],params:{id:"ggbApplet",width:800,height:600,showAlgebraInput:!0,showToolBar:!0,showMenuBar:!0},mode:0,perspective:void 0,editorState:{content:"",caret:[0]},mouseDown:void 0},Q=(Z(K),function(e){var t=e.children,E=Object(n.useMemo)((function(){return Z(K)}),[]);return a.a.createElement(S.a,{store:E},t)});Q.displayName="ReactGeoGebraProvider";var q=Q,$=J,ee=(E(38),function(){var e=k((function(e){return e}));return Object(n.useEffect)((function(){console.log(e)}),[e]),a.a.createElement("div",{className:"app"},a.a.createElement("h1",null,"React Redux GeoGebra Example"),a.a.createElement($,{id:"ggbApplet",width:1200}),a.a.createElement("div",{className:"container"},a.a.createElement("h2",null,"Store State"),a.a.createElement(_.a,{src:e,name:"state",collapsed:!0})))});r.a.render(a.a.createElement(q,null,a.a.createElement(ee,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.a275eca6.chunk.js.map