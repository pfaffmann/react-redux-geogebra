(this["webpackJsonpredux-geogebra-example"]=this["webpackJsonpredux-geogebra-example"]||[]).push([[0],{15:function(e,t,E){e.exports=E(34)},16:function(e,t,E){},33:function(e,t,E){},34:function(e,t,E){"use strict";E.r(t);E(16);var n=E(0),s=E.n(n),a=E(2),r=E.n(a),_=E(12),O=E.n(_),i=E(7),o=E(13),c=E(3),T=E(1);function M(e,t){return{type:e,payload:t}}var D=function(e){return M("ADD_ELEMENT_TO_STORE",e)},S=function(e){return M("REMOVE_ELEMENT_FROM_STORE",e)},l=function(e){return M("RENAME_ELEMENT_IN_STORE",e)},u=function(e){return M("UPDATE_ELEMENT_IN_STORE",e)},A=function(e){return M("ADD_NAME_TO_SELECTED_ELEMENTS",e)},R=function(){return M("REMOVE_NAME_FROM_SELECTED_ELEMENTS")},N=function(e){return M("REMOVE_ELEMENTS_AT_CANCEL",e)},d=function(e){return M("SET_MODE_IN_STORE",e)},I=function(e){return M("SET_PERSPECTIVE_IN_STORE",e)},p=function(e){return M("SET_MOUSEDOWN_IN_STORE",e)},L=function(e){return M("SET_EUCLIDIANVIEWS_IN_STORE",e)},C=function(e){return M("SET_EUCLIDIANVIEW3D_IN_STORE",e)},g=function(e){return M("SET_ALGEBRAVIEW_IN_STORE",e)},P=function(e){return M("SET_SPREADSHEETVIEW_IN_STORE",e)},m=function(e){return M("SET_PROBABILITYCALCULATOR_IN_STORE",e)},f=function(e){return M("SET_METAINFORMATION_IN_STORE",e)},v=new o.XMLParser({ignoreAttributes:!1,preserveOrder:!1,attributeNamePrefix:"",parseAttributeValue:!0,unpairedTags:["view","pane","toolbar","input","dockBar"],processEntities:!0}),b=new Map;b.set(0,"top"),b.set(1,"right"),b.set(2,"bottom"),b.set(3,"left");var h=function(e){var t="string"===typeof e.location?e.location.split(",").map((function(e){return Number(e)})):[Number(e.location)],E=t.length,n=t.reverse().map((function(e){return b.get(e)||""})).join(" in ");return{level:E,position:b.get(t[0])||"",location:n}},w=new Map;w.set(0,"MODE_MOVE"),w.set(1,"MODE_POINT"),w.set(2,"MODE_JOIN"),w.set(3,"MODE_PARALLEL"),w.set(4,"MODE_ORTHOGONAL"),w.set(5,"MODE_INTERSECT"),w.set(6,"MODE_DELETE"),w.set(7,"MODE_VECTOR"),w.set(8,"MODE_LINE_BISECTOR"),w.set(9,"MODE_ANGULAR_BISECTOR"),w.set(10,"MODE_CIRCLE_TWO_POINTS"),w.set(11,"MODE_CIRCLE_THREE_POINTS"),w.set(12,"MODE_CONIC_FIVE_POINTS"),w.set(13,"MODE_TANGENTS"),w.set(14,"MODE_RELATION"),w.set(15,"MODE_SEGMENT"),w.set(16,"MODE_POLYGON"),w.set(17,"MODE_TEXT"),w.set(18,"MODE_RAY"),w.set(19,"MODE_MIDPOINT"),w.set(20,"MODE_CIRCLE_ARC_THREE_POINTS"),w.set(21,"MODE_CIRCLE_SECTOR_THREE_POINTS"),w.set(22,"MODE_CIRCUMCIRCLE_ARC_THREE_POINTS"),w.set(23,"MODE_CIRCUMCIRCLE_SECTOR_THREE_POINTS"),w.set(24,"MODE_SEMICIRCLE"),w.set(25,"MODE_SLIDER"),w.set(26,"MODE_IMAGE"),w.set(27,"MODE_SHOW_HIDE_OBJECT"),w.set(28,"MODE_SHOW_HIDE_LABEL"),w.set(29,"MODE_MIRROR_AT_POINT"),w.set(30,"MODE_MIRROR_AT_LINE"),w.set(31,"MODE_TRANSLATE_BY_VECTOR"),w.set(32,"MODE_ROTATE_BY_ANGLE"),w.set(33,"MODE_DILATE_FROM_POINT"),w.set(34,"MODE_CIRCLE_POINT_RADIUS"),w.set(35,"MODE_COPY_VISUAL_STYLE"),w.set(36,"MODE_ANGLE"),w.set(37,"MODE_VECTOR_FROM_POINT"),w.set(38,"MODE_DISTANCE"),w.set(39,"MODE_MOVE_ROTATE"),w.set(40,"MODE_TRANSLATEVIEW"),w.set(41,"MODE_ZOOM_IN"),w.set(42,"MODE_ZOOM_OUT"),w.set(43,"MODE_SELECTION_LISTENER"),w.set(44,"MODE_POLAR_DIAMETER"),w.set(45,"MODE_SEGMENT_FIXED"),w.set(46,"MODE_ANGLE_FIXED"),w.set(47,"MODE_LOCUS"),w.set(48,"MODE_MACRO"),w.set(49,"MODE_AREA"),w.set(50,"MODE_SLOPE"),w.set(51,"MODE_REGULAR_POLYGON"),w.set(52,"MODE_SHOW_HIDE_CHECKBOX"),w.set(53,"MODE_COMPASSES"),w.set(54,"MODE_MIRROR_AT_CIRCLE"),w.set(55,"MODE_ELLIPSE_THREE_POINTS"),w.set(56,"MODE_HYPERBOLA_THREE_POINTS"),w.set(57,"MODE_PARABOLA"),w.set(58,"MODE_FITLINE"),w.set(59,"MODE_RECORD_TO_SPREADSHEET"),w.set(60,"MODE_BUTTON_ACTION"),w.set(61,"MODE_TEXTFIELD_ACTION"),w.set(62,"MODE_PEN"),w.set(63,"MODE_VISUAL_STYLE"),w.set(64,"MODE_RIGID_POLYGON"),w.set(65,"MODE_POLYLINE"),w.set(66,"MODE_PROBABILITY_CALCULATOR"),w.set(67,"MODE_ATTACH_DETACH"),w.set(68,"MODE_FUNCTION_INSPECTOR"),w.set(69,"MODE_INTERSECTION_CURVE"),w.set(70,"MODE_VECTOR_POLYGON"),w.set(71,"MODE_CREATE_LIST"),w.set(72,"MODE_COMPLEX_NUMBER"),w.set(73,"MODE_FREEHAND_SHAPE"),w.set(74,"MODE_FREEHAND_FUNCTION"),w.set(75,"MODE_EXTREMUM"),w.set(76,"MODE_ROOTS"),w.set(77,"MODE_SELECT"),w.set(78,"MODE_SELECT_MOW"),w.set(79,"MODE_GRASPABLE_MATH"),w.set(501,"MODE_POINT_ON_OBJECT"),w.set(502,"MODE_VIEW_IN_FRONT_OF"),w.set(510,"MODE_PLANE_THREE_POINTS"),w.set(511,"MODE_PLANE"),w.set(512,"MODE_ORTHOGONAL_PLANE"),w.set(513,"MODE_PARALLEL_PLANE"),w.set(514,"MODE_ORTHOGONAL_THREE_D"),w.set(520,"MODE_SPHERE_POINT_RADIUS"),w.set(521,"MODE_SPHERE_TWO_POINTS"),w.set(522,"MODE_CONE_TWO_POINTS_RADIUS"),w.set(523,"MODE_CYLINDER_TWO_POINTS_RADIUS"),w.set(531,"MODE_PRISM"),w.set(532,"MODE_EXTRUSION"),w.set(533,"MODE_PYRAMID"),w.set(534,"MODE_CONIFY"),w.set(535,"MODE_NET"),w.set(536,"MODE_CUBE"),w.set(537,"MODE_TETRAHEDRON"),w.set(538,"MODE_SURFACE_OF_REVOLUTION"),w.set(540,"MODE_ROTATEVIEW"),w.set(550,"MODE_CIRCLE_POINT_RADIUS_DIRECTION"),w.set(551,"MODE_CIRCLE_AXIS_POINT"),w.set(560,"MODE_VOLUME"),w.set(570,"MODE_ROTATE_AROUND_LINE"),w.set(571,"MODE_MIRROR_AT_PLANE"),w.set(1001,"MODE_CAS_EVALUATE"),w.set(1002,"MODE_CAS_NUMERIC"),w.set(1003,"MODE_CAS_KEEP_INPUT"),w.set(1004,"MODE_CAS_EXPAND"),w.set(1005,"MODE_CAS_FACTOR"),w.set(1006,"MODE_CAS_SUBSTITUTE"),w.set(1007,"MODE_CAS_SOLVE"),w.set(1008,"MODE_CAS_DERIVATIVE"),w.set(1009,"MODE_CAS_INTEGRAL"),w.set(1010,"MODE_CAS_NUMERICAL_SOLVE"),w.set(2001,"MODE_SPREADSHEET_CREATE_LIST"),w.set(2002,"MODE_SPREADSHEET_CREATE_MATRIX"),w.set(2003,"MODE_SPREADSHEET_CREATE_LISTOFPOINTS"),w.set(2004,"MODE_SPREADSHEET_CREATE_TABLETEXT"),w.set(2005,"MODE_SPREADSHEET_CREATE_POLYLINE"),w.set(2020,"MODE_SPREADSHEET_ONEVARSTATS"),w.set(2021,"MODE_SPREADSHEET_TWOVARSTATS"),w.set(2022,"MODE_SPREADSHEET_MULTIVARSTATS"),w.set(2030,"MODE_SPREADSHEET_SORT"),w.set(2031,"MODE_SPREADSHEET_SORT_AZ"),w.set(2032,"MODE_SPREADSHEET_SORT_ZA"),w.set(2040,"MODE_SPREADSHEET_SUM"),w.set(2041,"MODE_SPREADSHEET_AVERAGE"),w.set(2042,"MODE_SPREADSHEET_COUNT"),w.set(2043,"MODE_SPREADSHEET_MIN"),w.set(2044,"MODE_SPREADSHEET_MAX"),w.set(101,"MODE_SHAPE_LINE"),w.set(102,"MODE_SHAPE_TRIANGLE"),w.set(103,"MODE_SHAPE_SQUARE"),w.set(104,"MODE_SHAPE_RECTANGLE"),w.set(105,"MODE_SHAPE_RECTANGLE_ROUND_EDGES"),w.set(106,"MODE_SHAPE_PENTAGON"),w.set(107,"MODE_SHAPE_FREEFORM"),w.set(108,"MODE_SHAPE_CIRCLE"),w.set(109,"MODE_SHAPE_ELLIPSE"),w.set(110,"MODE_ERASER"),w.set(111,"MODE_HIGHLIGHTER"),w.set(112,"MODE_PEN_PANEL"),w.set(113,"MODE_TOOLS_PANEL"),w.set(114,"MODE_MEDIA_PANEL"),w.set(115,"MODE_VIDEO"),w.set(116,"MODE_AUDIO"),w.set(117,"MODE_CALCULATOR"),w.set(118,"MODE_CAMERA"),w.set(119,"MODE_PDF"),w.set(120,"MODE_EXTENSION"),w.set(121,"MODE_MEDIA_TEXT"),w.set(122,"MODE_MASK"),w.set(123,"MODE_TABLE"),w.set(124,"MODE_EQUATION"),w.set(125,"MODE_H5P"),w.set(126,"MODE_MIND_MAP"),w.set(127,"MODE_RULER"),w.set(128,"MODE_PROTRACTOR"),w.set(100001,"MACRO_MODE_ID_OFFSET");var H=new Map;H.set(1,"Graphics"),H.set(2,"Algebra"),H.set(4,"Spreadsheet"),H.set(8,"CAS"),H.set(16,"Graphics 2"),H.set(32,"Construction Protocol"),H.set(64,"Probability Calculator"),H.set(512,"3D Graphics");var y=function(e,t){t.dispatch(I(function(e){var t=v.parse(e),E=t.perspective;return E.panes=Array.isArray(t.perspective.panes.pane)?[].concat(t.perspective.panes.pane):[t.perspective.panes.pane],E.views=[].concat(t.perspective.views.view),E}(e)))},V=function(e,t){t.dispatch(L(function(e){var t=v.parse(e);return Array.isArray(t.geogebra.euclidianView)?t.geogebra.euclidianView:[t.geogebra.euclidianView]}(e))),t.dispatch(C(function(e){return v.parse(e).geogebra.euclidianView3D}(e)))},U=function(e,t){t.dispatch(m(function(e){return v.parse(e).geogebra.probabilityCalculator}(e)))},G=function(e,t){t.dispatch(g(function(e){return v.parse(e).geogebra.algebraView}(e)))},B=function(e,t){t.dispatch(P(function(e){return v.parse(e).geogebra.spreadsheetView}(e)))},F=function(e){var t=function(e){var t,E=null===(t=e.perspective)||void 0===t?void 0:t.views.filter((function(e){return e.visible}));if(E)return{panels:E.map((function(e){return{viewNo:e.id,name:H.get(e.id)||"",location:h(e)}})),mode:w.get(e.mode||0)||""}}(e.getState());t&&e.dispatch(f(t))},j=function(e,t){if(e){var E=function(){var E=e.getAllObjectNames(),n=t.getState();E.length!==n.elements.length&&t.dispatch(N(E))},n=Object(i.a)(250,!1,(function(n){switch(n.type){case"addMacro":case"addPolygon":case"addPolygonComplete":case"algebraPanelSelected":case"deleteGeos":break;case"deselect":E(),t.dispatch(R());break;case"dragEnd":case"dropdownClosed":case"dropdownItemFocused":case"dropdownOpened":case"editorKeyTyped":case"editorStart":case"editorStop":case"export":break;case"mouseDown":var s={x:n.x,y:n.y,z:n.z||0,viewNo:2===n.viewNo?16:n.viewNo};t.dispatch(p(s));break;case"movedGeos":case"movingGeos":case"openDialog":case"openMenu":case"pasteElms":case"pasteElmsComplete":case"redo":case"relationTool":case"removeMacro":case"renameComplete":case"renameMacro":break;case"select":t.dispatch(A(n.target));break;case"setMode":t.dispatch(d(Number(n.argument))),E(),F(t);break;case"sidePanelClosed":case"sidePanelOpened":case"tablePanelSelected":case"toolsPanelSelected":case"undo":break;case"updateStyle":var a=X(e,n.target);t.dispatch(u(a));break;case"showStyleBar":case"showNavigationBar":case"perspectiveChange":case"viewChanged3D":case"viewChanged2D":!function(e,t,E){y(t,E),V(e,E),G(e,E),U(e,E),B(e,E),F(E)}(e.getXML(),e.getPerspectiveXML(),t)}}));e.registerClientListener(n)}},X=function(e,t){if(!t)return{name:t||""};var E=e.getObjectType(t),n=void 0;switch(E){case"point":n={x:e.getXcoord(t),y:e.getYcoord(t),z:e.getZcoord(t)}}return{name:t,coordinates:n,value:e.getValue(t),color:e.getColor(t),isVisible:e.getVisible(t),valueString:e.getValueString(t),definitionString:e.getDefinitionString(t),commandString:e.getCommandString(t),LaTeXString:e.getLaTeXString(t),objectType:E,isExisting:e.exists(t),isDefined:e.isDefined(t),objectNumber:e.getObjectNumber(t),CASobjectNumber:e.getCASObjectNumber(t),layer:e.getLayer(t),lineStyle:e.getLineStyle(t),lineThickness:e.getLineThickness(t),pointStyle:e.getPointStyle(t),pointSize:e.getPointSize(t),filling:e.getFilling(t),caption:e.getCaption(t),labelStyle:e.getLabelStyle(t),isLabelVisible:e.getLabelVisible(t),isIndependent:e.isIndependent(t),isMoveable:e.isMoveable(t)}};var W=T.c,Y=(T.b,function(e){var t=Object(n.useRef)(e),E=t.current,a=E.id,r=E.LoadComponent,_=E.onReady,O=E.appletOnLoad,o=E.debug;a||(a="ggb-applet"),o||(o=!1),r||(r=function(e){var t=e.children;return s.a.createElement("h3",null,t)});var c="https://geogebra.org/apps/deployggb.js",M=Object(n.useState)(!1),A=M[0],R=M[1],N=Object(n.useState)(!0),d=N[0],I=N[1],p=Object(n.useState)(!1),L=p[0],C=p[1],g=Object(T.d)(),P=function(){O&&O();var e=window[a];e&&(!function(e,t){var E=e.getXML(),n=e.getPerspectiveXML();y(n,t),V(E,t),G(E,t),U(E,t),B(E,t),F(t)}(e,g),function(e,t){e&&e.registerAddListener((function(E){var n=X(e,E);t.dispatch(D(n))}))}(e,g),function(e,t){e&&e.registerRemoveListener((function(e){t.dispatch(S(e))}))}(e,g),function(e,t){e&&e.registerRenameListener((function(e,E){t.dispatch(l({oldName:e,newName:E}))}))}(e,g),function(e,t){if(e){var E=Object(i.a)(250,!1,(function(E){var n=X(e,E);t.dispatch(u(n))}));e.registerUpdateListener(E)}}(e,g),j(e,g),_&&_(),o&&console.log('Applet with id "'+a+'" is ready'))};return Object(n.useEffect)((function(){return!A&&function(e,t){return new Promise((function(E,n){var s=!1;document||n(new Error("Document was not defined"));var a=document.getElementsByTagName("script")[0],r=document.createElement("script");r.crossOrigin="",r.id=t+"-script",r.type="text/javascript",r.src=e,r.onload=function(){s||(s=!0,E(r))},r.onerror=function(e){n(new Error("Error loading script: "+e))},r.onabort=function(e){n(new Error("Script loading aborted: "+e))},null!=a.parentNode&&a.parentNode.insertBefore(r,a)}))}(c,a).then((function(){o&&console.log('script from "'+c+'" succesfull loaded into the DOM'),R(!0)})).catch((function(e){return console.error(e)})),function(){R(!1);var e=document.getElementById(a+"-holder");e&&e.lastChild&&(e.lastChild.textContent="")}}),[]),Object(n.useEffect)((function(){if(window.GGBApplet){var e=JSON.parse(JSON.stringify(t.current));e.appletOnLoad=P,new window.GGBApplet(e,!0).inject(a),I(!1),C(!1),o&&console.log('applet with id "'+a+'" succesfull injected into the DOM')}return function(){var e=document.getElementById(a+"-holder");e&&e.lastChild&&(e.lastChild.textContent="")}}),[A,L]),s.a.createElement("div",{id:a+"-holder"},d&&s.a.createElement(r,null,"Loading"),s.a.createElement("div",{id:a}))});function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var E=arguments[t];for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&(e[n]=E[n])}return e}).apply(this,arguments)}Y.defaultProps={appName:"classic",width:800,height:600,showToolBar:!0,showAlgebraInput:!0,showMenuBar:!0};var k=function(e,t){switch(void 0===e&&(e=z),t.type){case"ADD_ELEMENT_TO_STORE":var E=t.payload;return E?e.elements.map((function(e){return e.name})).includes(E.name)?e:x({},e,{elements:e.elements.concat(E)}):e;case"REMOVE_ELEMENT_FROM_STORE":var n=t.payload;return n?x({},e,{elements:e.elements.filter((function(e){return e.name!==n}))}):e;case"RENAME_ELEMENT_IN_STORE":var s=t.payload;return s?x({},e,{elements:e.elements.map((function(e){return x({},e,{name:e.name===s.oldName?s.newName:e.name})}))}):e;case"UPDATE_ELEMENT_IN_STORE":var a=t.payload;return a?x({},e,{elements:e.elements.map((function(e){return e.name===a.name?a:e}))}):e;case"ADD_NAME_TO_SELECTED_ELEMENTS":var r=t.payload;return r?e.selectedElementNames.find((function(e){return e===r}))?e:x({},e,{selectedElementNames:e.selectedElementNames?e.selectedElementNames.concat(r):[r]}):e;case"REMOVE_NAME_FROM_SELECTED_ELEMENTS":return x({},e,{selectedElementNames:[]});case"REMOVE_ELEMENTS_AT_CANCEL":var _=t.payload;if(!_)return e;var O=e.elements.filter((function(e){return _.includes(e.name)}));return x({},e,{elements:O});case"SET_MODE_IN_STORE":var i=t.payload;return"undefined"===typeof i?e:x({},e,{mode:i});case"SET_PERSPECTIVE_IN_STORE":var o=t.payload;return o?x({},e,{perspective:o}):e;case"SET_MOUSEDOWN_IN_STORE":var c=t.payload;return c?x({},e,{mouseDown:c}):e;case"SET_EUCLIDIANVIEWS_IN_STORE":var T=t.payload;return T?x({},e,{euclidianViews:T}):e;case"SET_EUCLIDIANVIEW3D_IN_STORE":var M=t.payload;return M?x({},e,{euclidianView3D:M}):e;case"SET_ALGEBRAVIEW_IN_STORE":var D=t.payload;return D?x({},e,{algebraView:D}):e;case"SET_SPREADSHEETVIEW_IN_STORE":var S=t.payload;return S?x({},e,{spreadsheetView:S}):e;case"SET_PROBABILITYCALCULATOR_IN_STORE":var l=t.payload;return l?x({},e,{probabilityCalculator:l}):e;case"SET_METAINFORMATION_IN_STORE":var u=t.payload;return u?x({},e,{metaInformation:u}):e;case"ON_APPLET_LOADED":default:return e}};function J(e){return Object(c.b)(k,e)}var z={id:"ggbApplet",elements:[],selectedElementNames:[],params:{id:"ggbApplet",width:800,height:600,showAlgebraInput:!0,showToolBar:!0,showMenuBar:!0},mode:0,perspective:void 0,editorState:{content:"",caret:[0]},mouseDown:void 0},Z=(J(z),function(e){var t=e.children,E=Object(n.useMemo)((function(){return J(z)}),[]);return s.a.createElement(T.a,{store:E},t)});Z.displayName="ReactGeoGebraProvider";var K=Z,Q=Y,q=(E(33),function(){var e=W((function(e){return e}));return Object(n.useEffect)((function(){console.log(e)}),[e]),s.a.createElement("div",{className:"app"},s.a.createElement("h1",null,"React Redux GeoGebra Example"),s.a.createElement(Q,{id:"ggbApplet",width:1200}),s.a.createElement("div",{className:"container"},s.a.createElement("h2",null,"Store State"),s.a.createElement(O.a,{src:e,name:"state",collapsed:!0})))});r.a.render(s.a.createElement(K,null,s.a.createElement(q,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.efcfd4a6.chunk.js.map