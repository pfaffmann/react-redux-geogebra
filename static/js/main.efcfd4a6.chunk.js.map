{"version":3,"sources":["../../src/store/utils.ts","../../src/store/constants.ts","../../src/store/actions.ts","../../src/util/XML2Json/index.ts","../../src/util/location-constants.ts","../../src/util/location.ts","../../src/util/mode-constants.ts","../../src/util/view-constants.ts","../../src/util/metaInformation.ts","../../src/util/GeoGebraStoreManagement/index.ts","../../src/util/XML2Json/perspectiveXML2Json.ts","../../src/util/XML2Json/viewsXML2Json.ts","../../src/util/GeoGebraListener/clientEventsListener.ts","../../src/util/GeoGebraListener/index.ts","../../src/store/hooks.ts","../../src/components/ReactGeoGebra/index.tsx","../../src/util/GeoGebraListener/addElementListener.ts","../../src/util/GeoGebraListener/removeElementListener.ts","../../src/util/GeoGebraListener/renameElementListener.ts","../../src/util/GeoGebraListener/updateElementListener.ts","../../src/util/set-geogebra-script.ts","../../src/store/reducer.ts","../../src/store/configure-store.ts","../../src/store/index.ts","../../src/components/ReactGeoGebraProvider/index.tsx","../../src/index.ts","App.tsx","index.tsx"],"names":["createAction","type","payload","addElementToStore","element","removeElementFromStore","name","renameElementInStore","rename","updateElementInStore","addNameToSelctedElements","deselectElements","removeElementsAtCancel","names","setModeInStore","mode","setPerspectiveInStore","perspective","setMouseDowninStore","mouse","setEuclidianViewsInStore","setEuclidianView3DInStore","euclidianView3D","setAlgebraViewInStore","algebraView","setSpreadsheetViewInStore","spreadsheetView","setProbabilityCalculatorInStore","setMetainformationInStore","metainformation","xmlParser","ignoreAttributes","preserveOrder","attributeNamePrefix","parseAttributeValue","unpairedTags","processEntities","locationNamesMap","getLocation","view","locationArray","Number","level","locationString","position","location","modeMap","viewNamesMap","setPerspective","store","actions","xml","json","Array","perspectiveXML2Json","setEuclidianViews","euclidianViewXML2Json","euclidianView3DXML2Json","setPropabilityCalculator","probabilityCalculatorXML2Json","setAlgebraView","algebraViewXML2Json","setSpreadsheetView","spreadsheetViewXML2Json","setMetaInformation","metaInformation","visibleViews","state","v","panels","viewNo","getMetaInformationFromState","clientEventListener","app","removeElementsAtCancelFunc","throttledClientListenerFunc","throttle","clientObj","x","y","z","getElementFromGeoGebraApp","perspectiveXML","xml2Store","objName","objectType","coordinates","value","color","isVisible","valueString","definitionString","commandString","LaTeXString","isExisting","isDefined","objectNumber","CASobjectNumber","layer","lineStyle","lineThickness","pointStyle","pointSize","filling","caption","labelStyle","isLabelVisible","isIndependent","isMoveable","useStoreState","Geogebra","reduxUseDispatch","props","refProps","useRef","id","LoadComponent","onReady","appletOnLoad","debug","children","React","url","useState","deployggbLoaded","setDeployggbLoaded","loading","setLoading","watchPropsChange","setWatchPropsChange","useStoreRedux","onAppletReady","window","initializeStore","addElementListener","removeElementListener","oldName","newName","renameElementListener","throttledUpdateFunc","updateElementListener","console","useEffect","Promise","ready","reject","Error","tag","document","script","resolve","setScript","parameter","JSON","ggbApp","appName","width","height","showToolBar","showAlgebraInput","showMenuBar","reactGeogebraReducer","initialState","action","geoGebraElement","el","elements","updatedElement","selEl","selectedElementNames","intersectingElements","mouseDown","euclidianViews","probabilityCalculator","configureStore","preloadedState","createStore","params","editorState","content","caret","undefined","ReactGeoGebraProvider","useMemo","Provider","ReactGeoGebra","App","log","className","src","collapsed","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.efcfd4a6.chunk.js","sourcesContent":["export function createAction<T extends string>(type: T): { type: T }\nexport function createAction<T extends string, P extends any>(\n  type: T,\n  payload: P\n): { type: T; payload?: P }\nexport function createAction(type: string, payload?: any) {\n  return { type, payload }\n}\n","/* Snippet rec */\nexport const ADD_ELEMENT_TO_STORE = 'ADD_ELEMENT_TO_STORE'\nexport const UPDATE_ELEMENT_IN_STORE = 'UPDATE_ELEMENT_IN_STORE'\nexport const REMOVE_ELEMENT_FROM_STORE = 'REMOVE_ELEMENT_FROM_STORE'\nexport const RENAME_ELEMENT_IN_STORE = 'RENAME_ELEMENT_IN_STORE'\n\nexport const ADD_NAME_TO_SELECTED_ELEMENTS = 'ADD_NAME_TO_SELECTED_ELEMENTS'\nexport const REMOVE_ELEMENTS_AT_CANCEL = 'REMOVE_ELEMENTS_AT_CANCEL'\nexport const REMOVE_NAME_FROM_SELECTED_ELEMENTS =\n  'REMOVE_NAME_FROM_SELECTED_ELEMENTS'\nexport const SET_MODE_IN_STORE = 'SET_MODE_IN_STORE'\nexport const SET_PERSPECTIVE_IN_STORE = 'SET_PERSPECTIVE_IN_STORE'\n\nexport const SET_MOUSEDOWN_IN_STORE = 'SET_MOUSEDOWN_IN_STORE'\n\nexport const SET_EUCLIDIANVIEWS_IN_STORE = 'SET_EUCLIDIANVIEWS_IN_STORE'\nexport const SET_EUCLIDIANVIEW3D_IN_STORE = 'SET_EUCLIDIANVIEW3D_IN_STORE'\n\nexport const SET_ALGEBRAVIEW_IN_STORE = 'SET_ALGEBRAVIEW_IN_STORE'\nexport const SET_SPREADSHEETVIEW_IN_STORE = 'SET_SPREADSHEETVIEW_IN_STORE'\nexport const SET_PROBABILITYCALCULATOR_IN_STORE =\n  'SET_PROBABILITYCALCULATOR_IN_STORE'\nexport const SET_METAINFORMATION_IN_STORE = 'SET_METAINFORMATION_IN_STORE'\n//export const RESET_SELECTED_ELEMENTS = 'RESET_SELECTED_ELEMENTS'\nexport const ON_APPLET_LOADED = 'ON_APPLET_LOADED'\nexport const SET_ON_CONNECT = 'SET_ON_CONNECT'\n","import { createAction } from './utils'\nimport {\n  Element,\n  OnAppletLoadedFunc,\n  Rename,\n  Perspective,\n  Mouse,\n  EuclidianView,\n  EuclidianView3D,\n  AlgebraView,\n  ProbabilityCalculator,\n  SpreadsheetView,\n  MetaInformation\n} from '../types'\nimport * as constants from './constants'\n\n/*   SNIPPET rea   */\nexport const addElementToStore = (element: Element) =>\n  createAction(constants.ADD_ELEMENT_TO_STORE, element)\n\nexport const removeElementFromStore = (name: string) =>\n  createAction(constants.REMOVE_ELEMENT_FROM_STORE, name)\n\nexport const renameElementInStore = (rename: Rename) =>\n  createAction(constants.RENAME_ELEMENT_IN_STORE, rename)\n\nexport const updateElementInStore = (element?: Element) =>\n  createAction(constants.UPDATE_ELEMENT_IN_STORE, element)\n\nexport const onAppletLoaded = (onLoaded: OnAppletLoadedFunc) =>\n  createAction(constants.ON_APPLET_LOADED, { onLoaded })\n\nexport const addNameToSelctedElements = (name?: string) =>\n  createAction(constants.ADD_NAME_TO_SELECTED_ELEMENTS, name)\nexport const deselectElements = () =>\n  createAction(constants.REMOVE_NAME_FROM_SELECTED_ELEMENTS)\n\nexport const removeElementsAtCancel = (names: Array<string>) =>\n  createAction(constants.REMOVE_ELEMENTS_AT_CANCEL, names)\n\nexport const setModeInStore = (mode: number) =>\n  createAction(constants.SET_MODE_IN_STORE, mode)\nexport const setPerspectiveInStore = (perspective: Perspective) =>\n  createAction(constants.SET_PERSPECTIVE_IN_STORE, perspective)\n\nexport const setMouseDowninStore = (mouse: Mouse) =>\n  createAction(constants.SET_MOUSEDOWN_IN_STORE, mouse)\n\nexport const setEuclidianViewsInStore = (\n  euclidianViews: Array<EuclidianView>\n) => createAction(constants.SET_EUCLIDIANVIEWS_IN_STORE, euclidianViews)\n\nexport const setEuclidianView3DInStore = (euclidianView3D: EuclidianView3D) =>\n  createAction(constants.SET_EUCLIDIANVIEW3D_IN_STORE, euclidianView3D)\n\nexport const setAlgebraViewInStore = (algebraView: AlgebraView) =>\n  createAction(constants.SET_ALGEBRAVIEW_IN_STORE, algebraView)\n\nexport const setSpreadsheetViewInStore = (spreadsheetView: SpreadsheetView) =>\n  createAction(constants.SET_SPREADSHEETVIEW_IN_STORE, spreadsheetView)\nexport const setProbabilityCalculatorInStore = (\n  probabilityCalculator: ProbabilityCalculator\n) =>\n  createAction(\n    constants.SET_PROBABILITYCALCULATOR_IN_STORE,\n    probabilityCalculator\n  )\n\nexport const setMetainformationInStore = (metainformation: MetaInformation) =>\n  createAction(constants.SET_METAINFORMATION_IN_STORE, metainformation)\n\nexport type ReactGeoGebraAction = ReturnType<\n  | typeof onAppletLoaded\n  | typeof addElementToStore\n  | typeof removeElementFromStore\n  | typeof renameElementInStore\n  | typeof updateElementInStore\n  | typeof addNameToSelctedElements\n  | typeof deselectElements\n  | typeof removeElementsAtCancel\n  | typeof setModeInStore\n  | typeof setPerspectiveInStore\n  | typeof setMouseDowninStore\n  | typeof setEuclidianViewsInStore\n  | typeof setEuclidianView3DInStore\n  | typeof setAlgebraViewInStore\n  | typeof setProbabilityCalculatorInStore\n  | typeof setSpreadsheetViewInStore\n  | typeof setMetainformationInStore\n>\n","import { XMLParser } from 'fast-xml-parser'\n\nconst parsingOptions = {\n  ignoreAttributes: false,\n  preserveOrder: false,\n  attributeNamePrefix: '',\n  parseAttributeValue: true,\n  unpairedTags: ['view', 'pane', 'toolbar', 'input', 'dockBar'],\n  processEntities: true\n}\nexport const xmlParser = new XMLParser(parsingOptions)\nexport * from './viewsXML2Json'\nexport * from './perspectiveXML2Json'\n","export const locationNamesMap = new Map<\n  number,\n  'top' | 'bottom' | 'left' | 'right'\n>()\n\nlocationNamesMap.set(0, 'top')\nlocationNamesMap.set(1, 'right')\nlocationNamesMap.set(2, 'bottom')\nlocationNamesMap.set(3, 'left')\n","import { Location, View } from '../types'\nimport { locationNamesMap } from './location-constants'\n\nexport const getLocation = (view: View): Location => {\n  const locationArray =\n    typeof view.location === 'string'\n      ? view.location.split(',').map((l) => Number(l))\n      : [Number(view.location)]\n  const level = locationArray.length\n  const locationString = locationArray\n    .reverse()\n    .map((l) => locationNamesMap.get(l) || '')\n    .join(' in ')\n  const location: Location = {\n    level,\n    position: locationNamesMap.get(locationArray[0]) || '',\n    location: locationString\n  }\n  return location\n}\n","/** Move */\nexport const MODE_MOVE = 0\n\n/** New Point */\nexport const MODE_POINT = 1\n\n/** Line through Two Points */\nexport const MODE_JOIN = 2\n\n/** Parallel Line */\nexport const MODE_PARALLEL = 3\n\n/** Perpendicular Line */\nexport const MODE_ORTHOGONAL = 4\n\n/** Intersect Two Objects */\nexport const MODE_INTERSECT = 5\n\n/** Delete Object */\nexport const MODE_DELETE = 6\n\n/** Vector between Two Points */\nexport const MODE_VECTOR = 7\n\n/** Perpendicular Bisector */\nexport const MODE_LINE_BISECTOR = 8\n\n/** Angle Bisector */\nexport const MODE_ANGULAR_BISECTOR = 9\n\n/** Circle with Center through Point */\nexport const MODE_CIRCLE_TWO_POINTS = 10\n\n/** Circle through Three Points */\nexport const MODE_CIRCLE_THREE_POINTS = 11\n\n/** Conic through Five Points */\nexport const MODE_CONIC_FIVE_POINTS = 12\n\n/** Tangents */\nexport const MODE_TANGENTS = 13\n\n/** Relation between Two Objects */\nexport const MODE_RELATION = 14\n\n/** Segment between Two Points */\nexport const MODE_SEGMENT = 15\n\n/** Polygon */\nexport const MODE_POLYGON = 16\n\n/** Insert Text */\nexport const MODE_TEXT = 17\n\n/** Ray through Two Points */\nexport const MODE_RAY = 18\n\n/** Midpoint or Center */\nexport const MODE_MIDPOINT = 19\n\n/** Circular Arc with Center between Two Points */\nexport const MODE_CIRCLE_ARC_THREE_POINTS = 20\n\n/** Circular Sector with Center between Two Points */\nexport const MODE_CIRCLE_SECTOR_THREE_POINTS = 21\n\n/** Circumcircular Arc through Three Points */\nexport const MODE_CIRCUMCIRCLE_ARC_THREE_POINTS = 22\n\n/** Circumcircular Sector through Three Points */\nexport const MODE_CIRCUMCIRCLE_SECTOR_THREE_POINTS = 23\n\n/** Semicircle through Two Points */\nexport const MODE_SEMICIRCLE = 24\n\n/** Slider */\nexport const MODE_SLIDER = 25\n\n/** Insert Image */\nexport const MODE_IMAGE = 26\n\n/** Show / Hide Object */\nexport const MODE_SHOW_HIDE_OBJECT = 27\n\n/** Show / Hide Label */\nexport const MODE_SHOW_HIDE_LABEL = 28\n\n/** Reflect Object about Point */\nexport const MODE_MIRROR_AT_POINT = 29\n\n/** Reflect Object about Line */\nexport const MODE_MIRROR_AT_LINE = 30\n\n/** Translate Object by Vector */\nexport const MODE_TRANSLATE_BY_VECTOR = 31\n\n/** Rotate Object around Point by Angle */\nexport const MODE_ROTATE_BY_ANGLE = 32\n\n/** Dilate Object from Point by Factor */\nexport const MODE_DILATE_FROM_POINT = 33\n\n/** Circle with Center and Radius */\nexport const MODE_CIRCLE_POINT_RADIUS = 34\n\n/** Copy Visual Style */\nexport const MODE_COPY_VISUAL_STYLE = 35\n\n/** Angle */\nexport const MODE_ANGLE = 36\n\n/** Vector from Point */\nexport const MODE_VECTOR_FROM_POINT = 37\n\n/** Distance or Length */\nexport const MODE_DISTANCE = 38\n\n/** Rotate around Point */\nexport const MODE_MOVE_ROTATE = 39\n\n/** Move Graphics View */\nexport const MODE_TRANSLATEVIEW = 40\n\n/** Zoom In */\nexport const MODE_ZOOM_IN = 41\n\n/** Zoom Out */\nexport const MODE_ZOOM_OUT = 42\n\n/** Select Object */\nexport const MODE_SELECTION_LISTENER = 43\n\n/** Polar or Diameter Line */\nexport const MODE_POLAR_DIAMETER = 44\n\n/** Segment with Given Length from Point */\nexport const MODE_SEGMENT_FIXED = 45\n\n/** Angle with Given Size */\nexport const MODE_ANGLE_FIXED = 46\n\n/** Locus */\nexport const MODE_LOCUS = 47\n/** Macro */\nexport const MODE_MACRO = 48\n\n/** Area */\nexport const MODE_AREA = 49\n\n/** Slope */\nexport const MODE_SLOPE = 50\n\n/** Regular Polygon */\nexport const MODE_REGULAR_POLYGON = 51\n\n/** Check Box to Show / Hide Objects */\nexport const MODE_SHOW_HIDE_CHECKBOX = 52\n// GeoGebra 3.2 start\n/** Compass */\nexport const MODE_COMPASSES = 53\n\n/** Reflect Object about Circle */\nexport const MODE_MIRROR_AT_CIRCLE = 54\n\n/** Ellipse */\nexport const MODE_ELLIPSE_THREE_POINTS = 55\n\n/** Hyperbola */\nexport const MODE_HYPERBOLA_THREE_POINTS = 56\n\n/** Parabola */\nexport const MODE_PARABOLA = 57\n\n/** Best Fit Line */\nexport const MODE_FITLINE = 58\n\n/** Record to Spreadsheet removed from GeoGebra 5 */\n// export const MODE_RECORD_TO_SPREADSHEET = 59;\n// GeoGebra 4.0 start\n/** Insert Button */\nexport const MODE_BUTTON_ACTION = 60\n\n/** Insert Input Box */\nexport const MODE_TEXTFIELD_ACTION = 61\n\n/** Pen Tool */\nexport const MODE_PEN = 62\n\n/** Visual Style, removed */\n// export const MODE_VISUAL_STYLE = 63;\n\n/** Rigid Polygon */\nexport const MODE_RIGID_POLYGON = 64\n\n/** PolyLine between Points */\nexport const MODE_POLYLINE = 65\n\n/** Probability Calculator */\nexport const MODE_PROBABILITY_CALCULATOR = 66\n\n/** Attach / Detach Point */\nexport const MODE_ATTACH_DETACH = 67\n\n/** Function Inspector */\nexport const MODE_FUNCTION_INSPECTOR = 68\n\n/** Intersect Two Surfaces */\nexport const MODE_INTERSECTION_CURVE = 69\n\n/** Vector Polygon */\nexport const MODE_VECTOR_POLYGON = 70\n\n/** Create List */\nexport const MODE_CREATE_LIST = 71\n\n/** Complex Number */\nexport const MODE_COMPLEX_NUMBER = 72\n\n/** Freehand */\nexport const MODE_FREEHAND_SHAPE = 73\n\n/** Freehand function */\nexport const MODE_FREEHAND_FUNCTION = 74\n\n/** Extremum */\nexport const MODE_EXTREMUM = 75\n\n/** Roots */\nexport const MODE_ROOTS = 76\n\n/** Select multiple objects */\nexport const MODE_SELECT = 77\n\n/** */\nexport const MODE_SELECT_MOW = 78\n\n/** Graspable Math tool */\nexport const MODE_GRASPABLE_MATH = 79\n\n/** Point on Object */\nexport const MODE_POINT_ON_OBJECT = 501\n\n// ggb3D start\n\n/** mode that change the view to be in front of selected plane */\nexport const MODE_VIEW_IN_FRONT_OF = 502\n\n/** creates a plane through three points */\nexport const MODE_PLANE_THREE_POINTS = 510\n\n/** creates a plane through three points */\nexport const MODE_PLANE = 511\n\n/** creates a plane orthogonal to a line */\nexport const MODE_ORTHOGONAL_PLANE = 512\n\n/** creates a plane parallel to another */\nexport const MODE_PARALLEL_PLANE = 513\n\n/** Perpendicular Line (for 3D view) */\nexport const MODE_ORTHOGONAL_THREE_D = 514\n\n/** creates a sphere with midpoint and radius */\nexport const MODE_SPHERE_POINT_RADIUS = 520\n\n/** creates a sphere with midpoint through another point */\nexport const MODE_SPHERE_TWO_POINTS = 521\n\n/**\n * creates a cone with center of basis, apex point and radius of the basis\n */\nexport const MODE_CONE_TWO_POINTS_RADIUS = 522\n\n/**\n * creates a cylinder with center of basis, apex point and radius of the\n * basis\n */\nexport const MODE_CYLINDER_TWO_POINTS_RADIUS = 523\n\n/**\n * creates a prism with basis and first vertex of the second parallel face\n */\nexport const MODE_PRISM = 531\n\n/** creates a prism/cylinder with basis and height */\nexport const MODE_EXTRUSION = 532\n\n/** creates a prism with basis and top vertex */\nexport const MODE_PYRAMID = 533\n\n/** creates a pyramid/cone with basis and height */\nexport const MODE_CONIFY = 534\n\n/** polyhedronNet */\nexport const MODE_NET = 535\n\n/** creates a cube */\nexport const MODE_CUBE = 536\n\n/** creates a tetrahedron */\nexport const MODE_TETRAHEDRON = 537\n\n/** creates a surface by revolving a line around x-axis */\nexport const MODE_SURFACE_OF_REVOLUTION = 538\n\n/** rotate the view */\nexport const MODE_ROTATEVIEW = 540\n\n/** circle with center, radius, direction */\nexport const MODE_CIRCLE_POINT_RADIUS_DIRECTION = 550\n\n/** circle with center, radius, direction */\nexport const MODE_CIRCLE_AXIS_POINT = 551\n\n/** volume */\nexport const MODE_VOLUME = 560\n\n/** Rotate Object around Axis by Angle */\nexport const MODE_ROTATE_AROUND_LINE = 570\n\n/** Reflect Object about Plane */\nexport const MODE_MIRROR_AT_PLANE = 571\n\n// CAS view modes\n/** Evaluate */\nexport const MODE_CAS_EVALUATE = 1001\n/** Numeric */\nexport const MODE_CAS_NUMERIC = 1002\n/** Keep Input */\nexport const MODE_CAS_KEEP_INPUT = 1003\n/** Expand */\nexport const MODE_CAS_EXPAND = 1004\n/** Factor */\nexport const MODE_CAS_FACTOR = 1005\n/** Substitute */\nexport const MODE_CAS_SUBSTITUTE = 1006\n/** Solve */\nexport const MODE_CAS_SOLVE = 1007\n/** Derivative */\nexport const MODE_CAS_DERIVATIVE = 1008\n/** Integral */\nexport const MODE_CAS_INTEGRAL = 1009\n/** Solve Numerically */\nexport const MODE_CAS_NUMERICAL_SOLVE = 1010\n// SpreadsheetView modes\n/** Create List */\nexport const MODE_SPREADSHEET_CREATE_LIST = 2001\n/** Create Matrix */\nexport const MODE_SPREADSHEET_CREATE_MATRIX = 2002\n/** Create List of Points */\nexport const MODE_SPREADSHEET_CREATE_LISTOFPOINTS = 2003\n/** Create Table */\nexport const MODE_SPREADSHEET_CREATE_TABLETEXT = 2004\n/** Create PolyLine */\nexport const MODE_SPREADSHEET_CREATE_POLYLINE = 2005\n\n/** One Variable Analysis */\nexport const MODE_SPREADSHEET_ONEVARSTATS = 2020\n/** Two Variable Regression Analysis */\nexport const MODE_SPREADSHEET_TWOVARSTATS = 2021\n/** Multiple Variable Analysis */\nexport const MODE_SPREADSHEET_MULTIVARSTATS = 2022\n/** Sort cells */\nexport const MODE_SPREADSHEET_SORT = 2030\n/** Sort cells increasingly */\nexport const MODE_SPREADSHEET_SORT_AZ = 2031\n/** Sort cells decreasingly */\nexport const MODE_SPREADSHEET_SORT_ZA = 2032\n\n/** Sum */\nexport const MODE_SPREADSHEET_SUM = 2040\n/** Mean */\nexport const MODE_SPREADSHEET_AVERAGE = 2041\n/** Count */\nexport const MODE_SPREADSHEET_COUNT = 2042\n/** Minimum */\nexport const MODE_SPREADSHEET_MIN = 2043\n/** Maximum */\nexport const MODE_SPREADSHEET_MAX = 2044\n\n/** WHITEBOARD TOOLS */\nexport const MODE_SHAPE_LINE = 101\n/** Triangle */\nexport const MODE_SHAPE_TRIANGLE = 102\n/** Square */\nexport const MODE_SHAPE_SQUARE = 103\n/** Rectangle */\nexport const MODE_SHAPE_RECTANGLE = 104\n/** Rounded rectangle */\nexport const MODE_SHAPE_RECTANGLE_ROUND_EDGES = 105\n/** Regular polygon */\nexport const MODE_SHAPE_PENTAGON = 106\n/** Freeform TODO same as normal polygon? */\nexport const MODE_SHAPE_FREEFORM = 107\n/** Circle */\nexport const MODE_SHAPE_CIRCLE = 108\n/** Ellipse */\nexport const MODE_SHAPE_ELLIPSE = 109\n/** Eraser */\nexport const MODE_ERASER = 110\n/** Highlighter */\nexport const MODE_HIGHLIGHTER = 111\n/** Pen Panel */\nexport const MODE_PEN_PANEL = 112\n/** Tools Panel */\nexport const MODE_TOOLS_PANEL = 113\n/** Media Panel */\nexport const MODE_MEDIA_PANEL = 114\n/** Video */\nexport const MODE_VIDEO = 115\n/** Audio */\nexport const MODE_AUDIO = 116\n/** Geogebra */\nexport const MODE_CALCULATOR = 117\n/** Camera */\nexport const MODE_CAMERA = 118\n/** PDF tool */\nexport const MODE_PDF = 119\n/** Extension embed */\nexport const MODE_EXTENSION = 120\n/** Text tool */\nexport const MODE_MEDIA_TEXT = 121\n/** Mask */\nexport const MODE_MASK = 122\n/** Table */\nexport const MODE_TABLE = 123\n/** Equation */\nexport const MODE_EQUATION = 124\n\n/** H5P tool */\nexport const MODE_H5P = 125\n\nexport const MODE_MIND_MAP = 126\n/** Ruler */\nexport const MODE_RULER = 127\n/** Protractor */\nexport const MODE_PROTRACTOR = 128\n\n/** macro tools ID offset */\nexport const MACRO_MODE_ID_OFFSET = 100001\n/** max delay between taps of a doublecklick */\nexport const DOUBLE_CLICK_DELAY = 300\n/** ignore drag until this many miliseconds after drag start */\nexport const DRAGGING_DELAY = 100\n/** ignore drag until this many miliseconds after drag start, for moving created point along\n * z axis */\nexport const DRAGGING_DELAY_FOR_MOVING_POINT_ALONG_Z = 200\n/** default size of delete tool rectangle in pixels */\nexport const DEFAULT_ERASER_SIZE = 20\n/** line thickness for pen (mow) */\nexport const DEFAULT_PEN_SIZE = 5\n/** min length of input box that allows display of symbol button */\nexport const SHOW_SYMBOLBUTTON_MINLENGTH = 8\n\n/** 13 in older files */\nexport const DEFAULT_CHECKBOX_SIZE = 26\n\n/**\n * min line thickness of highlighter\n */\nexport const MIN_PEN_HIGHLIGHTER_SIZE = 1\n/**\n * default step size to increase line thickness of pen/highlighter\n */\nexport const DEFAULT_PEN_STEP = 1\n/**\n * default opacity of highlighter (0.3)\n */\nexport const DEFAULT_HIGHLIGHTER_OPACITY = 77\n/**\n * default line thickness of highlighter\n */\nexport const DEFAULT_HIGHLIGHTER_SIZE = 20\n/**\n * max line thickness of highlighter\n */\nexport const MAX_PEN_HIGHLIGHTER_SIZE = 30\n\nexport const modeMap = new Map<number, string>()\n\nmodeMap.set(0, 'MODE_MOVE')\n\nmodeMap.set(1, 'MODE_POINT')\n\nmodeMap.set(2, 'MODE_JOIN')\n\nmodeMap.set(3, 'MODE_PARALLEL')\n\nmodeMap.set(4, 'MODE_ORTHOGONAL')\n\nmodeMap.set(5, 'MODE_INTERSECT')\n\nmodeMap.set(6, 'MODE_DELETE')\n\nmodeMap.set(7, 'MODE_VECTOR')\n\nmodeMap.set(8, 'MODE_LINE_BISECTOR')\n\nmodeMap.set(9, 'MODE_ANGULAR_BISECTOR')\n\nmodeMap.set(10, 'MODE_CIRCLE_TWO_POINTS')\n\nmodeMap.set(11, 'MODE_CIRCLE_THREE_POINTS')\n\nmodeMap.set(12, 'MODE_CONIC_FIVE_POINTS')\n\nmodeMap.set(13, 'MODE_TANGENTS')\n\nmodeMap.set(14, 'MODE_RELATION')\n\nmodeMap.set(15, 'MODE_SEGMENT')\n\nmodeMap.set(16, 'MODE_POLYGON')\n\nmodeMap.set(17, 'MODE_TEXT')\n\nmodeMap.set(18, 'MODE_RAY')\n\nmodeMap.set(19, 'MODE_MIDPOINT')\n\nmodeMap.set(20, 'MODE_CIRCLE_ARC_THREE_POINTS')\n\nmodeMap.set(21, 'MODE_CIRCLE_SECTOR_THREE_POINTS')\n\nmodeMap.set(22, 'MODE_CIRCUMCIRCLE_ARC_THREE_POINTS')\n\nmodeMap.set(23, 'MODE_CIRCUMCIRCLE_SECTOR_THREE_POINTS')\n\nmodeMap.set(24, 'MODE_SEMICIRCLE')\n\nmodeMap.set(25, 'MODE_SLIDER')\n\nmodeMap.set(26, 'MODE_IMAGE')\n\nmodeMap.set(27, 'MODE_SHOW_HIDE_OBJECT')\n\nmodeMap.set(28, 'MODE_SHOW_HIDE_LABEL')\n\nmodeMap.set(29, 'MODE_MIRROR_AT_POINT')\n\nmodeMap.set(30, 'MODE_MIRROR_AT_LINE')\n\nmodeMap.set(31, 'MODE_TRANSLATE_BY_VECTOR')\n\nmodeMap.set(32, 'MODE_ROTATE_BY_ANGLE')\n\nmodeMap.set(33, 'MODE_DILATE_FROM_POINT')\n\nmodeMap.set(34, 'MODE_CIRCLE_POINT_RADIUS')\n\nmodeMap.set(35, 'MODE_COPY_VISUAL_STYLE')\n\nmodeMap.set(36, 'MODE_ANGLE')\n\nmodeMap.set(37, 'MODE_VECTOR_FROM_POINT')\n\nmodeMap.set(38, 'MODE_DISTANCE')\n\nmodeMap.set(39, 'MODE_MOVE_ROTATE')\n\nmodeMap.set(40, 'MODE_TRANSLATEVIEW')\n\nmodeMap.set(41, 'MODE_ZOOM_IN')\n\nmodeMap.set(42, 'MODE_ZOOM_OUT')\n\nmodeMap.set(43, 'MODE_SELECTION_LISTENER')\n\nmodeMap.set(44, 'MODE_POLAR_DIAMETER')\n\nmodeMap.set(45, 'MODE_SEGMENT_FIXED')\n\nmodeMap.set(46, 'MODE_ANGLE_FIXED')\n\nmodeMap.set(47, 'MODE_LOCUS')\n\nmodeMap.set(48, 'MODE_MACRO')\n\nmodeMap.set(49, 'MODE_AREA')\n\nmodeMap.set(50, 'MODE_SLOPE')\n\nmodeMap.set(51, 'MODE_REGULAR_POLYGON')\n\nmodeMap.set(52, 'MODE_SHOW_HIDE_CHECKBOX')\n\nmodeMap.set(53, 'MODE_COMPASSES')\n\nmodeMap.set(54, 'MODE_MIRROR_AT_CIRCLE')\n\nmodeMap.set(55, 'MODE_ELLIPSE_THREE_POINTS')\n\nmodeMap.set(56, 'MODE_HYPERBOLA_THREE_POINTS')\n\nmodeMap.set(57, 'MODE_PARABOLA')\n\nmodeMap.set(58, 'MODE_FITLINE')\n\nmodeMap.set(59, 'MODE_RECORD_TO_SPREADSHEET')\n\nmodeMap.set(60, 'MODE_BUTTON_ACTION')\n\nmodeMap.set(61, 'MODE_TEXTFIELD_ACTION')\n\nmodeMap.set(62, 'MODE_PEN')\n\nmodeMap.set(63, 'MODE_VISUAL_STYLE')\n\nmodeMap.set(64, 'MODE_RIGID_POLYGON')\n\nmodeMap.set(65, 'MODE_POLYLINE')\n\nmodeMap.set(66, 'MODE_PROBABILITY_CALCULATOR')\n\nmodeMap.set(67, 'MODE_ATTACH_DETACH')\n\nmodeMap.set(68, 'MODE_FUNCTION_INSPECTOR')\n\nmodeMap.set(69, 'MODE_INTERSECTION_CURVE')\n\nmodeMap.set(70, 'MODE_VECTOR_POLYGON')\n\nmodeMap.set(71, 'MODE_CREATE_LIST')\n\nmodeMap.set(72, 'MODE_COMPLEX_NUMBER')\n\nmodeMap.set(73, 'MODE_FREEHAND_SHAPE')\n\nmodeMap.set(74, 'MODE_FREEHAND_FUNCTION')\n\nmodeMap.set(75, 'MODE_EXTREMUM')\n\nmodeMap.set(76, 'MODE_ROOTS')\n\nmodeMap.set(77, 'MODE_SELECT')\n\nmodeMap.set(78, 'MODE_SELECT_MOW')\n\nmodeMap.set(79, 'MODE_GRASPABLE_MATH')\n\nmodeMap.set(501, 'MODE_POINT_ON_OBJECT')\n\nmodeMap.set(502, 'MODE_VIEW_IN_FRONT_OF')\n\nmodeMap.set(510, 'MODE_PLANE_THREE_POINTS')\n\nmodeMap.set(511, 'MODE_PLANE')\n\nmodeMap.set(512, 'MODE_ORTHOGONAL_PLANE')\n\nmodeMap.set(513, 'MODE_PARALLEL_PLANE')\n\nmodeMap.set(514, 'MODE_ORTHOGONAL_THREE_D')\n\nmodeMap.set(520, 'MODE_SPHERE_POINT_RADIUS')\n\nmodeMap.set(521, 'MODE_SPHERE_TWO_POINTS')\n\nmodeMap.set(522, 'MODE_CONE_TWO_POINTS_RADIUS')\n\nmodeMap.set(523, 'MODE_CYLINDER_TWO_POINTS_RADIUS')\n\nmodeMap.set(531, 'MODE_PRISM')\n\nmodeMap.set(532, 'MODE_EXTRUSION')\n\nmodeMap.set(533, 'MODE_PYRAMID')\n\nmodeMap.set(534, 'MODE_CONIFY')\n\nmodeMap.set(535, 'MODE_NET')\n\nmodeMap.set(536, 'MODE_CUBE')\n\nmodeMap.set(537, 'MODE_TETRAHEDRON')\n\nmodeMap.set(538, 'MODE_SURFACE_OF_REVOLUTION')\n\nmodeMap.set(540, 'MODE_ROTATEVIEW')\n\nmodeMap.set(550, 'MODE_CIRCLE_POINT_RADIUS_DIRECTION')\n\nmodeMap.set(551, 'MODE_CIRCLE_AXIS_POINT')\n\nmodeMap.set(560, 'MODE_VOLUME')\n\nmodeMap.set(570, 'MODE_ROTATE_AROUND_LINE')\n\nmodeMap.set(571, 'MODE_MIRROR_AT_PLANE')\n\nmodeMap.set(1001, 'MODE_CAS_EVALUATE')\n\nmodeMap.set(1002, 'MODE_CAS_NUMERIC')\n\nmodeMap.set(1003, 'MODE_CAS_KEEP_INPUT')\n\nmodeMap.set(1004, 'MODE_CAS_EXPAND')\n\nmodeMap.set(1005, 'MODE_CAS_FACTOR')\n\nmodeMap.set(1006, 'MODE_CAS_SUBSTITUTE')\n\nmodeMap.set(1007, 'MODE_CAS_SOLVE')\n\nmodeMap.set(1008, 'MODE_CAS_DERIVATIVE')\n\nmodeMap.set(1009, 'MODE_CAS_INTEGRAL')\n\nmodeMap.set(1010, 'MODE_CAS_NUMERICAL_SOLVE')\n\nmodeMap.set(2001, 'MODE_SPREADSHEET_CREATE_LIST')\n\nmodeMap.set(2002, 'MODE_SPREADSHEET_CREATE_MATRIX')\n\nmodeMap.set(2003, 'MODE_SPREADSHEET_CREATE_LISTOFPOINTS')\n\nmodeMap.set(2004, 'MODE_SPREADSHEET_CREATE_TABLETEXT')\n\nmodeMap.set(2005, 'MODE_SPREADSHEET_CREATE_POLYLINE')\n\nmodeMap.set(2020, 'MODE_SPREADSHEET_ONEVARSTATS')\n\nmodeMap.set(2021, 'MODE_SPREADSHEET_TWOVARSTATS')\n\nmodeMap.set(2022, 'MODE_SPREADSHEET_MULTIVARSTATS')\n\nmodeMap.set(2030, 'MODE_SPREADSHEET_SORT')\n\nmodeMap.set(2031, 'MODE_SPREADSHEET_SORT_AZ')\n\nmodeMap.set(2032, 'MODE_SPREADSHEET_SORT_ZA')\n\nmodeMap.set(2040, 'MODE_SPREADSHEET_SUM')\n\nmodeMap.set(2041, 'MODE_SPREADSHEET_AVERAGE')\n\nmodeMap.set(2042, 'MODE_SPREADSHEET_COUNT')\n\nmodeMap.set(2043, 'MODE_SPREADSHEET_MIN')\n\nmodeMap.set(2044, 'MODE_SPREADSHEET_MAX')\n\nmodeMap.set(101, 'MODE_SHAPE_LINE')\n\nmodeMap.set(102, 'MODE_SHAPE_TRIANGLE')\n\nmodeMap.set(103, 'MODE_SHAPE_SQUARE')\n\nmodeMap.set(104, 'MODE_SHAPE_RECTANGLE')\n\nmodeMap.set(105, 'MODE_SHAPE_RECTANGLE_ROUND_EDGES')\n\nmodeMap.set(106, 'MODE_SHAPE_PENTAGON')\n\nmodeMap.set(107, 'MODE_SHAPE_FREEFORM')\n\nmodeMap.set(108, 'MODE_SHAPE_CIRCLE')\n\nmodeMap.set(109, 'MODE_SHAPE_ELLIPSE')\n\nmodeMap.set(110, 'MODE_ERASER')\n\nmodeMap.set(111, 'MODE_HIGHLIGHTER')\n\nmodeMap.set(112, 'MODE_PEN_PANEL')\n\nmodeMap.set(113, 'MODE_TOOLS_PANEL')\n\nmodeMap.set(114, 'MODE_MEDIA_PANEL')\n\nmodeMap.set(115, 'MODE_VIDEO')\n\nmodeMap.set(116, 'MODE_AUDIO')\n\nmodeMap.set(117, 'MODE_CALCULATOR')\n\nmodeMap.set(118, 'MODE_CAMERA')\n\nmodeMap.set(119, 'MODE_PDF')\n\nmodeMap.set(120, 'MODE_EXTENSION')\n\nmodeMap.set(121, 'MODE_MEDIA_TEXT')\n\nmodeMap.set(122, 'MODE_MASK')\n\nmodeMap.set(123, 'MODE_TABLE')\n\nmodeMap.set(124, 'MODE_EQUATION')\n\nmodeMap.set(125, 'MODE_H5P')\n\nmodeMap.set(126, 'MODE_MIND_MAP')\n\nmodeMap.set(127, 'MODE_RULER')\n\nmodeMap.set(128, 'MODE_PROTRACTOR')\n\nmodeMap.set(100001, 'MACRO_MODE_ID_OFFSET')\n","export const viewNamesMap = new Map<number, string>()\n//1-> Graphics 1, 2->Algebra, 4->Spreadsheet, 8->CAS, 16->Graphics 2, 512->Graphics3D\nviewNamesMap.set(1, 'Graphics')\nviewNamesMap.set(2, 'Algebra')\nviewNamesMap.set(4, 'Spreadsheet')\nviewNamesMap.set(8, 'CAS')\nviewNamesMap.set(16, 'Graphics 2')\nviewNamesMap.set(32, 'Construction Protocol')\nviewNamesMap.set(64, 'Probability Calculator')\nviewNamesMap.set(512, '3D Graphics')\n","import { MetaInformation, ReactGeoGebraState, Panel } from '../types'\nimport { getLocation } from './location'\nimport { modeMap } from './mode-constants'\nimport { viewNamesMap } from './view-constants'\n\nexport const getMetaInformationFromState = (\n  state: Partial<ReactGeoGebraState>\n) => {\n  const visibleViews = state.perspective?.views.filter((v) => v.visible)\n\n  if (!visibleViews) return\n  const panels: Array<Panel> = visibleViews.map(\n    (view): Panel => ({\n      viewNo: view.id,\n      name: viewNamesMap.get(view.id) || '',\n      location: getLocation(view)\n    })\n  )\n\n  const metaInformation: MetaInformation = {\n    panels,\n    mode: modeMap.get(state.mode || 0) || ''\n  }\n\n  return metaInformation\n}\n","import { AnyAction, Store } from 'redux'\nimport {\n  algebraViewXML2Json,\n  euclidianView3DXML2Json,\n  euclidianViewXML2Json,\n  perspectiveXML2Json,\n  probabilityCalculatorXML2Json,\n  spreadsheetViewXML2Json\n} from '../XML2Json'\nimport * as actions from '../../store/actions'\nimport { getMetaInformationFromState } from '../metaInformation'\n\nexport const initializeStore = (app: any, store: Store<any, AnyAction>) => {\n  const xml = app.getXML()\n  const perspectiveXML = app.getPerspectiveXML()\n  setPerspective(perspectiveXML, store)\n  setEuclidianViews(xml, store)\n  setAlgebraView(xml, store)\n  setPropabilityCalculator(xml, store)\n  setSpreadsheetView(xml, store)\n  setMetaInformation(store)\n}\n\nexport const xml2Store = (\n  xml: string,\n  perspectiveXML: string,\n  store: Store<any, AnyAction>\n) => {\n  setPerspective(perspectiveXML, store)\n  setEuclidianViews(xml, store)\n  setAlgebraView(xml, store)\n  setPropabilityCalculator(xml, store)\n  setSpreadsheetView(xml, store)\n  setMetaInformation(store)\n}\n\nexport const setPerspective = (\n  perspectiveXML: string,\n  store: Store<any, AnyAction>\n) => {\n  store.dispatch(\n    actions.setPerspectiveInStore(perspectiveXML2Json(perspectiveXML))\n  )\n}\n\nexport const setEuclidianViews = (\n  xml: string,\n  store: Store<any, AnyAction>\n) => {\n  store.dispatch(actions.setEuclidianViewsInStore(euclidianViewXML2Json(xml)))\n  store.dispatch(\n    actions.setEuclidianView3DInStore(euclidianView3DXML2Json(xml))\n  )\n}\n\nexport const setPropabilityCalculator = (\n  xml: string,\n  store: Store<any, AnyAction>\n) => {\n  store.dispatch(\n    actions.setProbabilityCalculatorInStore(probabilityCalculatorXML2Json(xml))\n  )\n}\n\nexport const setAlgebraView = (xml: string, store: Store<any, AnyAction>) => {\n  store.dispatch(actions.setAlgebraViewInStore(algebraViewXML2Json(xml)))\n}\nexport const setSpreadsheetView = (\n  xml: string,\n  store: Store<any, AnyAction>\n) => {\n  store.dispatch(\n    actions.setSpreadsheetViewInStore(spreadsheetViewXML2Json(xml))\n  )\n}\n\nexport const setMetaInformation = (store: Store<any, AnyAction>) => {\n  const metaInformation = getMetaInformationFromState(store.getState())\n  if (!metaInformation) return\n  store.dispatch(actions.setMetainformationInStore(metaInformation))\n}\n","import { xmlParser } from '.'\nimport { Perspective } from '../../types'\n\nexport const perspectiveXML2Json: any = (xml: string) => {\n  const json = xmlParser.parse(xml)\n  const perspective: Perspective = json.perspective\n  perspective.panes = Array.isArray(json.perspective.panes.pane)\n    ? [...json.perspective.panes.pane]\n    : [json.perspective.panes.pane]\n  perspective.views = [...json.perspective.views.view]\n  return perspective\n}\n","import { xmlParser } from '.'\n// import { XMLParser } from 'fast-xml-parser'\n// import { allViews } from './dummy'\n//\n// const parsingOptions = {\n//   ignoreAttributes: false,\n//   preserveOrder: false,\n//   attributeNamePrefix: '',\n//   parseAttributeValue: true,\n//   unpairedTags: ['view', 'pane', 'toolbar', 'input', 'dockBar'],\n//   processEntities: true\n// }\n// const xmlParser = new XMLParser(parsingOptions)\n\nexport const euclidianViewXML2Json: any = (xml: string) => {\n  const json = xmlParser.parse(xml)\n  return Array.isArray(json.geogebra.euclidianView)\n    ? json.geogebra.euclidianView\n    : [json.geogebra.euclidianView]\n}\n\nexport const euclidianView3DXML2Json: any = (xml: string) => {\n  const json = xmlParser.parse(xml)\n  return json.geogebra.euclidianView3D\n}\n\nexport const algebraViewXML2Json: any = (xml: string) => {\n  const json = xmlParser.parse(xml)\n  return json.geogebra.algebraView\n}\n\nexport const spreadsheetViewXML2Json: any = (xml: string) => {\n  const json = xmlParser.parse(xml)\n  return json.geogebra.spreadsheetView\n}\n\nexport const probabilityCalculatorXML2Json: any = (xml: string) => {\n  const json = xmlParser.parse(xml)\n  return json.geogebra.probabilityCalculator\n}\n","import { AnyAction, Store } from 'redux'\n\nimport { ReactGeoGebraState, Mouse } from '../../types'\nimport * as actions from '../../store/actions'\nimport { getElementFromGeoGebraApp } from '.'\nimport { throttle } from 'throttle-debounce'\nimport { setMetaInformation, xml2Store } from '../GeoGebraStoreManagement'\n\nexport const clientEventListener = (app: any, store: Store<any, AnyAction>) => {\n  if (!app) return\n  const removeElementsAtCancelFunc = () => {\n    const names = app.getAllObjectNames()\n    const state: ReactGeoGebraState = store.getState()\n    if (names.length === state.elements.length) return\n    store.dispatch(actions.removeElementsAtCancel(names))\n  }\n\n  const throttledClientListenerFunc = throttle(250, false, (clientObj) => {\n    switch (clientObj.type) {\n      case 'addMacro':\n        break\n      case 'addPolygon':\n        //addPolygon undefined undefined\n        break\n      case 'addPolygonComplete':\n        //addPolygonComplete name name\n\n        break\n      case 'algebraPanelSelected':\n        break\n      case 'deleteGeos':\n        break\n      case 'deselect':\n        //deselect undefined undefined\n        removeElementsAtCancelFunc()\n        store.dispatch(actions.deselectElements())\n        break\n      case 'dragEnd':\n        break\n      case 'dropdownClosed':\n        break\n      case 'dropdownItemFocused':\n        break\n      case 'dropdownOpened':\n        break\n      case 'editorKeyTyped':\n        break\n      case 'editorStart':\n        //is called after Loading the Applet\n        break\n      case 'editorStop':\n        break\n      case 'export':\n        break\n      case 'mouseDown':\n        const mouse: Mouse = {\n          x: clientObj.x,\n          y: clientObj.y,\n          z: clientObj.z || 0,\n          viewNo: clientObj.viewNo === 2 ? 16 : clientObj.viewNo\n        }\n        store.dispatch(actions.setMouseDowninStore(mouse))\n        break\n      case 'movedGeos':\n        break\n      case 'movingGeos':\n        break\n      case 'openDialog':\n        break\n      case 'openMenu':\n        break\n      case 'pasteElms':\n        break\n      case 'pasteElmsComplete':\n        break\n\n      case 'redo':\n        break\n      case 'relationTool':\n        break\n      case 'removeMacro':\n        break\n      case 'renameComplete':\n        break\n      case 'renameMacro':\n        break\n      case 'select':\n        store.dispatch(actions.addNameToSelctedElements(clientObj.target))\n        break\n      case 'setMode':\n        store.dispatch(actions.setModeInStore(Number(clientObj.argument)))\n        removeElementsAtCancelFunc()\n        setMetaInformation(store)\n        break\n\n      case 'sidePanelClosed':\n        break\n      case 'sidePanelOpened':\n        break\n      case 'tablePanelSelected':\n        break\n      case 'toolsPanelSelected':\n        break\n      case 'undo':\n        break\n      case 'updateStyle':\n        const element = getElementFromGeoGebraApp(app, clientObj.target)\n        store.dispatch(actions.updateElementInStore(element))\n        break\n      case 'showStyleBar':\n      //showStyleBar undefined [true,1] | [false,1] 1-> Graphics 1, 2->Algebra, 4->Spreadsheet, 8->CAS, 16->Graphics 2, 512->Graphics3D\n      case 'showNavigationBar':\n      case 'perspectiveChange':\n      case 'viewChanged3D':\n      case 'viewChanged2D':\n        const xml = app.getXML()\n        const perspectiveXML = app.getPerspectiveXML()\n        xml2Store(xml, perspectiveXML, store)\n        break\n\n      default:\n        break\n    }\n  })\n\n  app.registerClientListener(throttledClientListenerFunc)\n}\n","import { Element } from '../../types'\n\nexport const getElementFromGeoGebraApp = (app: any, objName?: string) => {\n  const e: Element = { name: objName || '' }\n  if (!objName) return e\n  const objectType = app.getObjectType(objName)\n  let coordinates = undefined\n  switch (objectType) {\n    case 'point':\n      coordinates = {\n        x: app.getXcoord(objName),\n        y: app.getYcoord(objName),\n        z: app.getZcoord(objName)\n      }\n      break\n    case 'list':\n      break\n    default:\n      break\n  }\n\n  const element: Element = {\n    name: objName,\n    coordinates,\n    value: app.getValue(objName),\n    //listValue: app.getListValue(objName),\n    color: app.getColor(objName),\n    isVisible: app.getVisible(objName),\n    valueString: app.getValueString(objName),\n    definitionString: app.getDefinitionString(objName),\n    commandString: app.getCommandString(objName),\n    LaTeXString: app.getLaTeXString(objName),\n    //LaTeXBase64Definition: app.getLaTeXBase64(objName, false),\n    //LaTeXBase64Value: app.getLaTeXBase64(objName, true),\n    objectType,\n    isExisting: app.exists(objName),\n    isDefined: app.isDefined(objName),\n    objectNumber: app.getObjectNumber(objName),\n    CASobjectNumber: app.getCASObjectNumber(objName),\n    layer: app.getLayer(objName),\n    lineStyle: app.getLineStyle(objName),\n    lineThickness: app.getLineThickness(objName),\n    pointStyle: app.getPointStyle(objName),\n    pointSize: app.getPointSize(objName),\n    filling: app.getFilling(objName),\n    caption: app.getCaption(objName),\n    labelStyle: app.getLabelStyle(objName),\n    isLabelVisible: app.getLabelVisible(objName),\n    isIndependent: app.isIndependent(objName),\n    isMoveable: app.isMoveable(objName)\n  }\n\n  return element\n}\n\nexport * from './addElementListener'\nexport * from './removeElementListener'\nexport * from './renameElementListener'\nexport * from './updateElementListener'\nexport * from './clientEventsListener'\n","import {\n  bindActionCreators,\n  Store,\n  ActionCreator,\n  ActionCreatorsMapObject\n} from 'redux'\nimport {\n  useStore as useStoreRedux,\n  useSelector,\n  useDispatch as reduxUseDispatch,\n  TypedUseSelectorHook\n} from 'react-redux'\nimport { useMemo } from 'react'\n\nimport { ReactGeoGebraDispatch } from '.'\nimport * as actions from './actions'\nimport { ReactGeoGebraAction } from './actions'\nimport { ReactGeoGebraState } from '../types'\n\nexport const useTypedSelector: TypedUseSelectorHook<ReactGeoGebraState> =\n  useSelector\nexport type ActionCreatorSelector<Action> = (\n  acts: typeof actions\n) => ActionCreator<Action>\n\nexport type ActionMapObjectSelector<Action> = (\n  acts: typeof actions\n) => ActionCreatorsMapObject<Action>\n\nexport type ActionSelector<Action> = (\n  acts: typeof actions\n) => ActionCreatorsMapObject<Action> | ActionCreator<Action>\n\nexport function useStoreActions<Action extends ReactGeoGebraAction>(\n  actionSelector: ActionCreatorSelector<Action>\n): ActionCreator<Action>\n\nexport function useStoreActions<Action extends ReactGeoGebraAction>(\n  actionSelector: ActionMapObjectSelector<Action>\n): ActionCreatorsMapObject<Action>\n\nexport function useStoreActions<Action extends ReactGeoGebraAction>(\n  actionSelector: ActionSelector<Action>\n) {\n  const dispatch: ReactGeoGebraDispatch = reduxUseDispatch()\n  const currAction = actionSelector(actions)\n\n  const action = useMemo(() => {\n    // this looks weird but required if both ActionSelector and ActionMapObjectSelector are supported\n    return typeof currAction === 'function'\n      ? bindActionCreators(currAction, dispatch)\n      : bindActionCreators(currAction, dispatch)\n  }, [dispatch, currAction])\n\n  return action\n}\n\nexport const useStoreState = useTypedSelector\nexport const useStore = (): Store<ReactGeoGebraState, ReactGeoGebraAction> => {\n  const store = useStoreRedux<ReactGeoGebraState, ReactGeoGebraAction>()\n  return store\n}\nexport const useDispatch: ReactGeoGebraDispatch = reduxUseDispatch\n","import React, { useEffect, useState, useRef } from 'react'\nimport { setScript } from '../../util'\nimport { GeoGebraParameters } from '../../types'\nimport {\n  addElementListener,\n  clientEventListener,\n  removeElementListener,\n  renameElementListener,\n  updateElementListener\n} from '../../util/GeoGebraListener'\nimport { useStore } from '../../store/hooks'\nimport { initializeStore } from '../../util/GeoGebraStoreManagement'\n\nconst Geogebra: React.FC<GeoGebraParameters> = (props) => {\n  const refProps = useRef(props)\n\n  let { id, LoadComponent, onReady, appletOnLoad, debug } = refProps.current\n  if (!id) {\n    id = 'ggb-applet'\n  }\n  if (!debug) {\n    debug = false\n  }\n  //If a JSX Component is not given as a prop, use h3 with children\n  if (!LoadComponent) {\n    LoadComponent = ({ children }) => <h3>{children}</h3>\n  }\n\n  const url = 'https://geogebra.org/apps/deployggb.js'\n  const [deployggbLoaded, setDeployggbLoaded] = useState(false)\n  const [loading, setLoading] = useState(true)\n  const [watchPropsChange, setWatchPropsChange] = useState(false)\n  const store = useStore()\n  //gets called by GeoGebra after the Applet is ready\n  const onAppletReady = () => {\n    if (appletOnLoad) appletOnLoad()\n    const app = window[id as any]\n    if (!app) return\n    //initial State management-------------------------------------------\n\n    initializeStore(app, store)\n    //add Store Listeners -----------------------------------------------\n    addElementListener(app, store)\n    removeElementListener(app, store)\n    renameElementListener(app, store)\n    updateElementListener(app, store)\n    clientEventListener(app, store)\n    //-------------------------------------------------------------------\n    if (onReady) onReady()\n    debug && console.log(`Applet with id \"${id}\" is ready`)\n  }\n\n  useEffect(() => {\n    !deployggbLoaded &&\n      setScript(url, id)\n        .then(() => {\n          debug &&\n            console.log(`script from \"${url}\" succesfull loaded into the DOM`)\n          setDeployggbLoaded(true)\n        })\n        .catch((err) => console.error(err))\n\n    return () => {\n      setDeployggbLoaded(false)\n      // removeScript(id)\n      const tag = document.getElementById(`${id}-holder`)\n      if (tag && tag.lastChild) {\n        tag.lastChild.textContent = ''\n      }\n      //unregisterListeners\n    }\n  }, [])\n  useEffect(() => {\n    if (window.GGBApplet) {\n      const parameter = JSON.parse(JSON.stringify(refProps.current))\n      parameter.appletOnLoad = onAppletReady\n      const ggbApp = new window.GGBApplet(parameter, true)\n      ggbApp.inject(id)\n      setLoading(false)\n      setWatchPropsChange(false)\n      debug &&\n        console.log(`applet with id \"${id}\" succesfull injected into the DOM`)\n    }\n    return () => {\n      const tag = document.getElementById(`${id}-holder`)\n      if (tag && tag.lastChild) {\n        tag.lastChild.textContent = ''\n      }\n    }\n  }, [deployggbLoaded, watchPropsChange])\n\n  return (\n    <div id={`${id}-holder`}>\n      {loading && <LoadComponent>Loading</LoadComponent>}\n      <div id={id}></div>\n    </div>\n  )\n}\n\nGeogebra.defaultProps = {\n  appName: 'classic',\n  width: 800,\n  height: 600,\n  showToolBar: true,\n  showAlgebraInput: true,\n  showMenuBar: true\n}\n\nexport default Geogebra\n","import { AnyAction, Store } from 'redux'\nimport { getElementFromGeoGebraApp } from '.'\nimport * as actions from '../../store/actions'\n\nexport const addElementListener = (app: any, store: Store<any, AnyAction>) => {\n  if (!app) return\n  app.registerAddListener((objName: string) => {\n    const element = getElementFromGeoGebraApp(app, objName)\n    //actions.addElementToStore(element)\n    store.dispatch(actions.addElementToStore(element))\n  })\n}\n","import { AnyAction, Store } from 'redux'\nimport * as actions from '../../store/actions'\n\nexport const removeElementListener = (\n  app: any,\n  store: Store<any, AnyAction>\n) => {\n  if (!app) return\n  app.registerRemoveListener((objName: string) => {\n    store.dispatch(actions.removeElementFromStore(objName))\n  })\n}\n","import { AnyAction, Store } from 'redux'\nimport * as actions from '../../store/actions'\n\nexport const renameElementListener = (\n  app: any,\n  store: Store<any, AnyAction>\n) => {\n  if (!app) return\n  app.registerRenameListener((oldName: string, newName: string) => {\n    store.dispatch(actions.renameElementInStore({ oldName, newName }))\n  })\n}\n","import * as actions from '../../store/actions'\nimport { getElementFromGeoGebraApp } from '.'\nimport { throttle } from 'throttle-debounce'\nimport { AnyAction, Store } from 'redux'\n\nexport const updateElementListener = (\n  app: any,\n  store: Store<any, AnyAction>\n) => {\n  if (!app) return\n\n  const throttledUpdateFunc = throttle(250, false, (objName: string) => {\n    const element = getElementFromGeoGebraApp(app, objName)\n    store.dispatch(actions.updateElementInStore(element))\n  })\n\n  app.registerUpdateListener(throttledUpdateFunc)\n}\n","export const setScript = (\n  url: string,\n  id: string\n): Promise<HTMLScriptElement> =>\n  new Promise((resolve, reject) => {\n    let ready = false\n    if (!document) {\n      reject(new Error('Document was not defined'))\n    }\n\n    const tag = document.getElementsByTagName('script')[0]\n    const script = document.createElement('script')\n\n    script.crossOrigin = ''\n    script.id = `${id}-script`\n    script.type = 'text/javascript'\n    script.src = url\n    script.onload = () => {\n      if (!ready) {\n        ready = true\n        resolve(script)\n      }\n    }\n\n    script.onerror = (msg) => {\n      reject(new Error('Error loading script: ' + msg))\n    }\n\n    script.onabort = (msg) => {\n      reject(new Error('Script loading aborted: ' + msg))\n    }\n\n    if (tag.parentNode != null) {\n      //tag.parentNode.insertBefore(script, tag);\n      tag.parentNode.insertBefore(script, tag)\n    }\n  })\n","import { ReactGeoGebraState } from '../types'\nimport { initialState } from './index'\nimport * as constants from './constants'\nimport { ReactGeoGebraAction } from './actions'\n\nconst reactGeogebraReducer = (\n  state = initialState,\n  action: ReactGeoGebraAction\n): ReactGeoGebraState => {\n  switch (action.type) {\n    case constants.ADD_ELEMENT_TO_STORE: {\n      const geoGebraElement = action.payload\n      if (!geoGebraElement) return state\n      if (state.elements.map((el) => el.name).includes(geoGebraElement.name))\n        return state\n\n      const newState: ReactGeoGebraState = {\n        ...state,\n        elements: state.elements.concat(geoGebraElement)\n      }\n      return newState\n    }\n    case constants.REMOVE_ELEMENT_FROM_STORE: {\n      const name = action.payload\n      if (!name) return state\n      const newState: ReactGeoGebraState = {\n        ...state,\n        elements: state.elements.filter((element) => element.name !== name)\n      }\n      return newState\n    }\n    case constants.RENAME_ELEMENT_IN_STORE: {\n      const rename = action.payload\n      if (!rename) return state\n      const newState: ReactGeoGebraState = {\n        ...state,\n        elements: state.elements.map((element) => {\n          return {\n            ...element,\n            name:\n              element.name === rename.oldName ? rename.newName : element.name\n          }\n        })\n      }\n      return newState\n    }\n    case constants.UPDATE_ELEMENT_IN_STORE: {\n      const updatedElement = action.payload\n      if (!updatedElement) return state\n      const newState: ReactGeoGebraState = {\n        ...state,\n        elements: state.elements.map((element) => {\n          return element.name === updatedElement.name ? updatedElement : element\n        })\n      }\n      return newState\n    }\n    case constants.ADD_NAME_TO_SELECTED_ELEMENTS: {\n      const name = action.payload\n      if (!name) return state\n      if (state.selectedElementNames.find((selEl) => selEl === name))\n        return state\n      const newState: ReactGeoGebraState = {\n        ...state,\n        selectedElementNames: state.selectedElementNames\n          ? state.selectedElementNames.concat(name)\n          : [name]\n      }\n      return newState\n    }\n    case constants.REMOVE_NAME_FROM_SELECTED_ELEMENTS: {\n      const newState: ReactGeoGebraState = {\n        ...state,\n        selectedElementNames: []\n      }\n      return newState\n    }\n    case constants.REMOVE_ELEMENTS_AT_CANCEL: {\n      const names = action.payload\n      if (!names) return state\n      const intersectingElements = state.elements.filter((element) =>\n        names.includes(element.name)\n      )\n\n      const newState: ReactGeoGebraState = {\n        ...state,\n        elements: intersectingElements\n      }\n      return newState\n    }\n    case constants.SET_MODE_IN_STORE: {\n      const mode = action.payload\n\n      if (typeof mode === 'undefined') return state\n      const newState: ReactGeoGebraState = { ...state, mode }\n      return newState\n    }\n    case constants.SET_PERSPECTIVE_IN_STORE: {\n      const perspective = action.payload\n      if (!perspective) return state\n      const newState: ReactGeoGebraState = { ...state, perspective }\n      return newState\n    }\n    case constants.SET_MOUSEDOWN_IN_STORE: {\n      const mouseDown = action.payload\n      if (!mouseDown) return state\n      return { ...state, mouseDown }\n    }\n    case constants.SET_EUCLIDIANVIEWS_IN_STORE: {\n      const euclidianViews = action.payload\n      if (!euclidianViews) return state\n      return { ...state, euclidianViews }\n    }\n    case constants.SET_EUCLIDIANVIEW3D_IN_STORE: {\n      const euclidianView3D = action.payload\n      if (!euclidianView3D) return state\n      return { ...state, euclidianView3D }\n    }\n    case constants.SET_ALGEBRAVIEW_IN_STORE: {\n      const algebraView = action.payload\n      if (!algebraView) return state\n      return { ...state, algebraView }\n    }\n    case constants.SET_SPREADSHEETVIEW_IN_STORE: {\n      const spreadsheetView = action.payload\n      if (!spreadsheetView) return state\n      return { ...state, spreadsheetView }\n    }\n    case constants.SET_PROBABILITYCALCULATOR_IN_STORE: {\n      const probabilityCalculator = action.payload\n      if (!probabilityCalculator) return state\n      return { ...state, probabilityCalculator }\n    }\n    case constants.SET_METAINFORMATION_IN_STORE: {\n      const metaInformation = action.payload\n      if (!metaInformation) return state\n      return { ...state, metaInformation }\n    }\n    case constants.ON_APPLET_LOADED:\n    default:\n      return state\n  }\n}\n\nexport default reactGeogebraReducer\n","import { createStore, Store } from 'redux'\nimport { ReactGeoGebraAction } from './actions'\nimport { ReactGeoGebraState } from '../types'\nimport reactGeogebraReducer from './reducer'\n\nexport default function configureStore(\n  preloadedState: ReactGeoGebraState\n): Store<ReactGeoGebraState, ReactGeoGebraAction> {\n  const store = createStore(reactGeogebraReducer, preloadedState)\n  return store\n}\n","import { Store } from 'redux'\nimport { ReactGeoGebraState } from '../types'\nimport { MODE_MOVE } from '../util/mode-constants'\nimport configureStore from './configure-store'\n\nconst initialId = 'ggbApplet'\nexport const initialState: ReactGeoGebraState = {\n  id: initialId,\n  elements: [],\n  selectedElementNames: [],\n  params: {\n    id: initialId,\n    width: 800,\n    height: 600,\n    showAlgebraInput: true,\n    showToolBar: true,\n    showMenuBar: true\n  },\n  mode: MODE_MOVE,\n  perspective: undefined,\n  editorState: { content: '', caret: [0] },\n  mouseDown: undefined\n}\n\nconst store: Store = configureStore(initialState)\n\nexport type ReactGeoGebraDispatch = typeof store.dispatch\nexport default store\n","import React, { useMemo } from 'react'\nimport { Provider } from 'react-redux'\nimport { initialState } from '../../store'\nimport configureStore from '../../store/configure-store'\n\nexport interface ProviderProps {}\n\nconst ReactGeoGebraProvider: React.FC<ProviderProps> = ({ children }) => {\n  const store = useMemo(() => {\n    return configureStore(initialState)\n  }, [])\n\n  return <Provider store={store}>{children}</Provider>\n}\n\nReactGeoGebraProvider.displayName = 'ReactGeoGebraProvider'\n\nexport default ReactGeoGebraProvider\n","import Geogebra from './components/ReactGeoGebra'\nimport Provider from './components/ReactGeoGebraProvider'\n\nexport const ReactGeoGebraProvider = Provider\nexport const ReactGeoGebra = Geogebra\n\nexport * from './types'\nexport * from './store/hooks'\n","import React, { useEffect } from 'react'\nimport ReactJson from 'react-json-view'\nimport { ReactGeoGebra, useStoreState } from 'react-redux-geogebra'\nimport './App.css'\nconst App = () => {\n  const state = useStoreState((state) => state)\n\n  useEffect(() => {\n    console.log(state)\n  }, [state])\n\n  return (\n    <div className='app'>\n      <h1>React Redux GeoGebra Example</h1>\n      <ReactGeoGebra id='ggbApplet' width={1200} />\n      <div className='container'>\n        <h2>Store State</h2>\n        <ReactJson src={state} name='state' collapsed />\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { ReactGeoGebraProvider } from 'react-redux-geogebra'\nReactDOM.render(\n  <ReactGeoGebraProvider>\n    <App />\n  </ReactGeoGebraProvider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}